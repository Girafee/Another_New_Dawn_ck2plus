character_event = {
	id = 110000
	picture = "GFX_evt_council"

	only_rulers = yes

	trigger = {
		ai = no
		OR = {
			AND = {
				check_variable = { which = "mercenaries_raised" value = 0.1 }
				NOT = { has_landed_title = e_mexikha }
				NOT = { has_landed_title = e_golden_horde }
				NOT = { has_landed_title = e_il-khanate }
				NOT = { has_landed_title = e_timurids }
			}
			check_variable = { which = "loan_amount" value = 0.1 }
		}
	}

	desc = "EVTDESC110000"

	mean_time_to_happen = {
		days = 1
	}

	immediate = { disband_event_forces = yes }

	option = {
		name = "EVTOPTA110000"
		if = {
			limit = {
				NOT = { has_landed_title = e_mexikha }
				NOT = { has_landed_title = e_golden_horde }
				NOT = { has_landed_title = e_il-khanate }
				NOT = { has_landed_title = e_timurids }
			}
			set_variable = { which = "mercenaries_raised" value = 0 }
		}
		set_variable = { which = "loan_amount" value = 0 }
		hidden_tooltip = { remove_character_modifier = loan_timer }
	}
}

character_event = {
	id = 110001
	picture = "GFX_evt_council"

	is_triggered_only = yes
	only_rulers = yes

	trigger = {
		primary_title = { tier = EMPEROR }
		any_demesne_title = {
			tier = KING
			empire = { holder_scope = { character = ROOT } }
			OR = {
				AND = {
					empire = { has_law = investiture_law_0 }
					NOT = { has_law = investiture_law_0 }
				}
				AND = {
					empire = { has_law = investiture_law_1 }
					NOT = { has_law = investiture_law_1 }
				}
				AND = {
					empire = { has_law = centralization_0 }
					NOT = { has_law = centralization_0 }
				}
				AND = {
					empire = { has_law = centralization_1 }
					NOT = { has_law = centralization_1 }
				}
				AND = {
					empire = { has_law = centralization_2 }
					NOT = { has_law = centralization_2 }
				}
				AND = {
					empire = { has_law = centralization_3 }
					NOT = { has_law = centralization_3 }
				}
				AND = {
					empire = { has_law = centralization_4 }
					NOT = { has_law = centralization_4 }
				}
			}
		}
	}

	desc = "EVTDESC110001"

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = "EVTOPTA110001"
		set_character_flag = centralize_without_penalties
		any_demesne_title = {
			limit = {
				tier = KING
				empire = { holder_scope = { character = ROOT } }
				OR = {
					AND = {
						empire = { has_law = investiture_law_0 }
						NOT = { has_law = investiture_law_0 }
					}
					AND = {
						empire = { has_law = investiture_law_1 }
						NOT = { has_law = investiture_law_1 }
					}
					AND = {
						empire = { has_law = centralization_0 }
						NOT = { has_law = centralization_0 }
					}
					AND = {
						empire = { has_law = centralization_1 }
						NOT = { has_law = centralization_1 }
					}
					AND = {
						empire = { has_law = centralization_2 }
						NOT = { has_law = centralization_2 }
					}
					AND = {
						empire = { has_law = centralization_3 }
						NOT = { has_law = centralization_3 }
					}
					AND = {
						empire = { has_law = centralization_4 }
						NOT = { has_law = centralization_4 }
					}
				}
			}
			if = {
				limit = {
					empire = { has_law = centralization_0 }
				}
				add_law = centralization_0
			}
			if = {
				limit = {
					empire = { has_law = centralization_1 }
				}
				add_law = centralization_1
			}
			if = {
				limit = {
					empire = { has_law = centralization_2 }
				}
				add_law = centralization_2
			}
			if = {
				limit = {
					empire = { has_law = centralization_3 }
				}
				add_law = centralization_3
			}
			if = {
				limit = {
					empire = { has_law = centralization_4 }
				}
				add_law = centralization_4
			}
			if = {
				limit = {
					empire = { has_law = investiture_law_0 }
				}
				add_law = investiture_law_0
			}
			if = {
				limit = {
					empire = { has_law = investiture_law_1 }
				}
				add_law = investiture_law_1
			}
		}
		clr_character_flag = centralize_without_penalties
	}
}

character_event = {
	id = 110018
	is_triggered_only = yes
	hide_from = yes

	trigger = {
		ai = yes
		NOT = { has_character_flag = plot_check }
		OR = {
			has_plot = plot_gain_liege_title
			has_plot = plot_gain_fellow_vassal_title
			has_plot = plot_weaken_fellow_vassal
			has_plot = plot_kidnap_liege
			has_plot = plot_kill_character
			has_plot = plot_discredit_councillor
			has_plot = plot_embezzle_from_liege
			has_plot = plot_kidnapping
			has_plot = plot_instigate_revolt
			has_plot = plot_fabricate_treason
			has_plot = plot_fabricate_treason_liege
			has_plot = plot_fabricate_heresy
			has_plot = plot_seize_trade_post
		}
	}

	desc = "AI_EVENT"

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = "OK"
		set_character_flag = plot_check
		plot_target_char = {
			any_courtier = {
				limit = { NOT = { is_plot_target_of = ROOT } }
				remove_opinion = {
					who = ROOT
					modifier = opinion_plot_help
				}
				opinion = {
					who = ROOT
					modifier = opinion_plot_help
					years = 5
				}
			}
			any_vassal = {
				limit = { NOT = { is_plot_target_of = ROOT } }
				remove_opinion = {
					who = ROOT
					modifier = opinion_plot_help
				}
				opinion = {
					who = ROOT
					modifier = opinion_plot_help
					years = 5
				}
			}
			liege = {
				any_courtier = {
					limit = { NOT = { is_plot_target_of = ROOT } }
					remove_opinion = {
						who = ROOT
						modifier = opinion_plot_help
					}
					opinion = {
						who = ROOT
						modifier = opinion_plot_help
						years = 5
					}
				}
				any_vassal = {
					limit = { NOT = { is_plot_target_of = ROOT } }
					remove_opinion = {
						who = ROOT
						modifier = opinion_plot_help
					}
					opinion = {
						who = ROOT
						modifier = opinion_plot_help
						years = 5
					}
				}
			}
		}
	}
}

character_event = {
	id = 110019
	is_triggered_only = yes

	trigger = {
		ai = yes
		had_character_flag = {
			flag = plot_check
			days = 1825
		}
		OR = {
			NOT = { num_of_plot_backers = 1 }
			had_character_flag = {
				flag = plot_check
				days = 2750
			}
		}
		OR = {
			NOT = { num_of_plot_backers = 2 }
			had_character_flag = {
				flag = plot_check
				days = 3650
			}
		}
	}

	desc = "AI_EVENT"

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = "OK"
		cancel_plot = yes
	}
}

character_event = {
	id = 110020
	is_triggered_only = yes

	trigger = {
		ai = yes
		prisoner = no
		age = 16
		NOT = { trait = incapable }
		NOT = { has_character_flag = allow_plotting }
		NOT = {
			has_plot = plot_gain_liege_title
			has_plot = plot_gain_fellow_vassal_title
			has_plot = plot_weaken_fellow_vassal
			has_plot = plot_kidnap_liege
			has_plot = plot_kill_character
			has_plot = plot_discredit_councillor
			has_plot = plot_embezzle_from_liege
			has_plot = plot_kidnapping
			has_plot = plot_instigate_revolt
			has_plot = plot_fabricate_treason
			has_plot = plot_fabricate_treason_liege
			has_plot = plot_fabricate_heresy
			has_plot = plot_seize_trade_post
		}
	}

	desc = "AI_EVENT"

	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 0.5
			is_ruler = no
			NOT = {
				has_job_title = job_chancellor
				has_job_title = job_treasurer
				has_job_title = job_spymaster
				has_job_title = job_marshal
				has_job_title = job_spiritual
			}
		}
		modifier = {
			factor = 0.5
			NOT = { intrigue = 5 }
		}
		modifier = {
			factor = 0.5
			NOT = { intrigue = 10 }
		}
		modifier = {
			factor = 2
			intrigue = 15
		}
		modifier = {
			factor = 2
			intrigue = 20
		}
	}

	option = {
		name = "OK"
		set_character_flag = allow_plotting
	}
}

character_event = {
	id = 110028
	picture = "GFX_evt_council"
	is_triggered_only = yes
	only_rulers = yes

	trigger = {
		war = no
		is_ruler = yes
		higher_tier_than = BARON
		primary_title = {
			OR = {
				#no crown law or autonomous vassals: allows 0
				AND = {
					NOT = {
						crownlaw_title = { has_law = centralization_1 }
						crownlaw_title = { has_law = centralization_2 }
						crownlaw_title = { has_law = centralization_3 }
						crownlaw_title = { has_law = centralization_4 }
					}
					OR = {
						has_law = iqta_tax_1
						has_law = iqta_tax_2
						has_law = feudal_tax_1
						has_law = feudal_tax_2
						has_law = city_tax_1
						has_law = city_tax_2
						has_law = temple_tax_1
						has_law = temple_tax_2
						has_law = tax_privileges_0
						has_law = levy_privileges_0
					}
				}
				#low & medium crown authority: allows 0-1
				AND = {
					NOT = {
						crownlaw_title = { has_law = centralization_3 }
						crownlaw_title = { has_law = centralization_4 }
					}
					OR = {
						has_law = iqta_tax_2
						has_law = feudal_tax_2
						has_law = city_tax_2
						has_law = temple_tax_2
					}
				}
			}
		}
	}

	desc = "EVTDESC110027"

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = "OK"
		primary_title = {
			if = {
				limit = {
					has_law = tax_privileges_0
					NOT = {
						crownlaw_title = { has_law = centralization_1 }
						crownlaw_title = { has_law = centralization_2 }
						crownlaw_title = { has_law = centralization_3 }
						crownlaw_title = { has_law = centralization_4 }
					}
				}
				add_law = tax_privileges_1
			}
			if = {
				limit = {
					has_law = levy_privileges_0
					NOT = {
						crownlaw_title = { has_law = centralization_1 }
						crownlaw_title = { has_law = centralization_2 }
						crownlaw_title = { has_law = centralization_3 }
						crownlaw_title = { has_law = centralization_4 }
					}
				}
				add_law = levy_privileges_1
			}
			if = {
				limit = {
					has_law = iqta_tax_1
					NOT = {
						crownlaw_title = { has_law = centralization_1 }
						crownlaw_title = { has_law = centralization_2 }
						crownlaw_title = { has_law = centralization_3 }
						crownlaw_title = { has_law = centralization_4 }
					}
				}
				add_law = iqta_tax_0
			}
			if = {
				limit = {
					has_law = iqta_tax_2
					NOT = {
						crownlaw_title = { has_law = centralization_3 }
						crownlaw_title = { has_law = centralization_4 }
					}
				}
				if = {
					limit = {
						NOT = {
							crownlaw_title = { has_law = centralization_1 }
							crownlaw_title = { has_law = centralization_2 }
							crownlaw_title = { has_law = centralization_3 }
							crownlaw_title = { has_law = centralization_4 }
						}
					}
					add_law = iqta_tax_0
				}
				if = {
					limit = {
						OR = {
							crownlaw_title = { has_law = centralization_1 }
							crownlaw_title = { has_law = centralization_2 }
						}
					}
					add_law = iqta_tax_1
				}
			}
			if = {
				limit = {
					has_law = feudal_tax_1
					NOT = {
						crownlaw_title = { has_law = centralization_1 }
						crownlaw_title = { has_law = centralization_2 }
						crownlaw_title = { has_law = centralization_3 }
						crownlaw_title = { has_law = centralization_4 }
					}
				}
				add_law = feudal_tax_0
			}
			if = {
				limit = {
					has_law = feudal_tax_2
					NOT = {
						crownlaw_title = { has_law = centralization_3 }
						crownlaw_title = { has_law = centralization_4 }
					}
				}
				if = {
					limit = {
						NOT = {
							crownlaw_title = { has_law = centralization_1 }
							crownlaw_title = { has_law = centralization_2 }
							crownlaw_title = { has_law = centralization_3 }
							crownlaw_title = { has_law = centralization_4 }
						}
					}
					add_law = feudal_tax_0
				}
				if = {
					limit = {
						OR = {
							crownlaw_title = { has_law = centralization_1 }
							crownlaw_title = { has_law = centralization_2 }
						}
					}
					add_law = feudal_tax_1
				}
			}
			if = {
				limit = {
					has_law = city_tax_1
					NOT = {
						crownlaw_title = { has_law = centralization_1 }
						crownlaw_title = { has_law = centralization_2 }
						crownlaw_title = { has_law = centralization_3 }
						crownlaw_title = { has_law = centralization_4 }
					}
				}
				add_law = city_tax_0
			}
			if = {
				limit = {
					has_law = city_tax_2
					NOT = {
						crownlaw_title = { has_law = centralization_3 }
						crownlaw_title = { has_law = centralization_4 }
					}
				}
				if = {
					limit = {
						NOT = {
							crownlaw_title = { has_law = centralization_1 }
							crownlaw_title = { has_law = centralization_2 }
							crownlaw_title = { has_law = centralization_3 }
							crownlaw_title = { has_law = centralization_4 }
						}
					}
					add_law = city_tax_0
				}
				if = {
					limit = {
						OR = {
							crownlaw_title = { has_law = centralization_1 }
							crownlaw_title = { has_law = centralization_2 }
						}
					}
					add_law = city_tax_1
				}
			}
			if = {
				limit = {
					has_law = temple_tax_1
					NOT = {
						crownlaw_title = { has_law = centralization_1 }
						crownlaw_title = { has_law = centralization_2 }
						crownlaw_title = { has_law = centralization_3 }
						crownlaw_title = { has_law = centralization_4 }
					}
				}
				add_law = temple_tax_0
			}
			if = {
				limit = {
					has_law = temple_tax_2
					NOT = {
						crownlaw_title = { has_law = centralization_3 }
						crownlaw_title = { has_law = centralization_4 }
					}
				}
				if = {
					limit = {
						NOT = {
							crownlaw_title = { has_law = centralization_1 }
							crownlaw_title = { has_law = centralization_2 }
							crownlaw_title = { has_law = centralization_3 }
							crownlaw_title = { has_law = centralization_4 }
						}
					}
					add_law = temple_tax_0
				}
				if = {
					limit = {
						OR = {
							crownlaw_title = { has_law = centralization_1 }
							crownlaw_title = { has_law = centralization_2 }
						}
					}
					add_law = temple_tax_1
				}
			}
		}
	}
}

character_event = {
	id = 110031
	is_triggered_only = yes

	trigger = {
		is_ruler = no
		OR = {
			trait = tyrant1
			trait = tyrant2
			trait = tyrant3
			trait = tyrant4
			trait = tyrant5
			trait = tyrant6
			trait = tyrant7
			trait = tyrant8
			trait = tyrant9
			trait = tyrant10
			trait = tyrant11
			trait = tyrant12
			trait = tyrant13
			trait = tyrant14
			trait = tyrant15
			trait = tyrant16
			trait = tyrant17
			trait = tyrant18
			trait = tyrant19
			trait = tyrant20
		}
	}

	desc = "AI_EVENT"

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = "OK"
		remove_trait = tyrant1
		remove_trait = tyrant2
		remove_trait = tyrant3
		remove_trait = tyrant4
		remove_trait = tyrant5
		remove_trait = tyrant6
		remove_trait = tyrant7
		remove_trait = tyrant8
		remove_trait = tyrant9
		remove_trait = tyrant10
		remove_trait = tyrant11
		remove_trait = tyrant12
		remove_trait = tyrant13
		remove_trait = tyrant14
		remove_trait = tyrant15
		remove_trait = tyrant16
		remove_trait = tyrant17
		remove_trait = tyrant18
		remove_trait = tyrant19
		remove_trait = tyrant20
	}
}

character_event = {
	id = 110033
	is_triggered_only = yes
	only_rulers = yes
	trigger = {
		war = no
		is_ruler = yes
		tier = emperor
		any_demesne_title = {
			tier = emperor
			OR = {
				AND = {
					ROOT = { NOT = { realm_size = 100 } }
					NOT = {
						title = e_rebels
						title = e_pirates
						title = e_timurids
						title = e_mexikha
						title = e_byzantium
						title = e_roman_empire
						title = e_latin_empire
						AND = {
							title = e_golden_horde
							holder_scope = { religion = tengri_pagan }
						}
						AND = {
							title = e_il-khanate
							holder_scope = { religion = tengri_pagan }
						}
					}
				}
				AND = {
					title = e_latin_empire
					NOT = { c_byzantion = { holder_scope = { same_realm = ROOT } } }
				}
				AND = {
					title = e_byzantium
					NOT = { c_byzantion = { holder_scope = { same_realm = ROOT } } }
				}
			}
		}
	}

	desc = "EVTDESC110033"

	immediate = {
		#attempt to form a kingdom so we don't lose all our dukes
		set_character_flag = empire_is_disbanding
		character_event = { id = 110027 }
		clr_character_flag = empire_is_disbanding
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = "EVTOPTA110033"
		any_demesne_title = {
			limit = {
				tier = emperor
				OR = {
					AND = {
						ROOT = { NOT = { realm_size = 100 } }
						NOT = {
							title = e_rebels
							title = e_pirates
							title = e_timurids
							title = e_mexikha
							title = e_byzantium
							title = e_roman_empire
							title = e_latin_empire
							AND = {
								title = e_golden_horde
								holder_scope = { religion = tengri_pagan }
							}
							AND = {
								title = e_il-khanate
								holder_scope = { religion = tengri_pagan }
							}
						}
					}
					AND = {
						title = e_latin_empire
						NOT = { c_byzantion = { holder_scope = { same_realm = ROOT } } }
					}
					AND = {
						title = e_byzantium
						NOT = { c_byzantion = { holder_scope = { same_realm = ROOT } } }
					}
				}
			}
			destroy_landed_title = yes
			prestige = -1000
		}
	}
}

character_event = {
	id = 110039
	is_triggered_only = yes

	trigger = {
		ai = yes
		is_ruler = no
		age = 16
		wealth = 50
	}

	desc = "AI_EVENT"

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = "OK"
		wealth = -50
		if = {
			limit = {
				has_character_modifier = estates_4
			}
			remove_character_modifier = estates_4
			add_character_modifier = {
				name = "estates_5"
				duration = -1
			}
		}
		if = {
			limit = {
				has_character_modifier = estates_3
			}
			remove_character_modifier = estates_3
			add_character_modifier = {
				name = "estates_4"
				duration = -1
			}
		}
		if = {
			limit = {
				has_character_modifier = estates_2
			}
			remove_character_modifier = estates_2
			add_character_modifier = {
				name = "estates_3"
				duration = -1
			}
		}
		if = {
			limit = {
				has_character_modifier = estates_1
			}
			remove_character_modifier = estates_1
			add_character_modifier = {
				name = "estates_2"
				duration = -1
			}
		}
		if = {
			limit = {
				NOT = {
					has_character_modifier = estates_1
					has_character_modifier = estates_2
					has_character_modifier = estates_3
					has_character_modifier = estates_4
					has_character_modifier = estates_5
				}
			}
			add_character_modifier = {
				name = "estates_1"
				duration = -1
			}
		}
	}
}

character_event = {
	id = 110040
	picture = "GFX_evt_council"
	is_triggered_only = yes
	only_rulers = yes

	trigger = {
		is_ruler = yes
		OR = {
			has_character_modifier = estates_1
			has_character_modifier = estates_2
			has_character_modifier = estates_3
			has_character_modifier = estates_4
			has_character_modifier = estates_5
		}
	}

	desc = "EVTDESC110040"

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = "OK"
		if = {
			limit = {
				has_character_modifier = estates_1
			}
			remove_character_modifier = estates_1
			wealth = 40
		}
		if = {
			limit = {
				has_character_modifier = estates_2
			}
			remove_character_modifier = estates_2
			wealth = 80
		}
		if = {
			limit = {
				has_character_modifier = estates_3
			}
			remove_character_modifier = estates_3
			wealth = 120
		}
		if = {
			limit = {
				has_character_modifier = estates_4
			}
			remove_character_modifier = estates_4
			wealth = 160
		}
		if = {
			limit = {
				has_character_modifier = estates_5
			}
			remove_character_modifier = estates_5
			wealth = 200
		}
	}
}

character_event = {
	id = 110043
	is_triggered_only = yes

	trigger = {
		trait = crowned_by_pope
		NOT = { has_landed_title = e_hre }
	}

	desc = "EVTDESC110043"

	mean_time_to_happen = {
		days = 1
	}


	option = {
		name = "EVTOPTA110043"
		remove_trait = crowned_by_pope
	}
}

character_event = {
	id = 110044
	picture = "GFX_evt_death"

	hide_window = yes
	is_triggered_only = yes

	desc = "EVTDESC110044"

	immediate = {
		hidden_tooltip = {
			if = {
				limit = {
					is_ruler = yes
				}
				if = {
					limit = { has_character_flag = khan_threatens_player }
					current_heir = {
						set_character_flag = khan_threatens_player
					}
					clr_character_flag = khan_threatens_player
				}
				if = {
					limit = { has_character_flag = faction_feudal_war }
					current_heir = {
						set_character_flag = faction_feudal_war
					}
					clr_character_flag = faction_feudal_war
				}
				if = {
					limit = { has_character_flag = faction_court_war }
					current_heir = {
						set_character_flag = faction_court_war
					}
					clr_character_flag = faction_court_war
				}
				if = {
					limit = { has_character_flag = faction_republican_war }
					current_heir = {
						set_character_flag = faction_republican_war
					}
					clr_character_flag = faction_republican_war
				}
				if = {
					limit = { has_character_flag = faction_religious_war }
					current_heir = {
						set_character_flag = faction_religious_war
					}
					clr_character_flag = faction_religious_war
				}
				if = {
					limit = { has_character_flag = faction_separatist_war }
					current_heir = {
						set_character_flag = faction_separatist_war
					}
					clr_character_flag = faction_separatist_war
				}
				if = {
					limit = { has_character_flag = faction_pretender_war }
					current_heir = {
						set_character_flag = faction_pretender_war
					}
					clr_character_flag = faction_pretender_war
				}
				random_courtier = { limit = { ai = yes prisoner = no is_ruler = no NOT = { character = PREV } } character_event = { id = 110073 days = 3 } }
			}
			if = {
				limit = {
					is_ruler = yes
					current_heir = { lower_tier_than = ROOT }
				}
				if = {
					limit = { NOT = { has_character_flag = lifetime_appointments } }
					current_heir = { clr_character_flag = lifetime_appointments }
				}
				if = {
					limit = { NOT = { has_character_flag = max_levies }	}
					current_heir = { clr_character_flag = max_levies }
				}
				if = {
					limit = { has_character_flag = lifetime_appointments }
					job_spymaster = { remove_title = job_spymaster remove_opinion = { who = PREV modifier = opinion_fired_from_council } }
					job_marshal = { remove_title = job_marshal remove_opinion = { who = PREV modifier = opinion_fired_from_council } }
					job_chancellor = { remove_title = job_chancellor remove_opinion = { who = PREV modifier = opinion_fired_from_council } }
					job_treasurer = { remove_title = job_treasurer remove_opinion = { who = PREV modifier = opinion_fired_from_council } }
					job_spiritual = { remove_title = job_spiritual remove_opinion = { who = PREV modifier = opinion_fired_from_council } }
					current_heir = {
						set_character_flag = lifetime_appointments
						if = {
							limit = { is_ruler = yes }
							job_spymaster = { remove_title = job_spymaster remove_opinion = { who = PREV modifier = opinion_fired_from_council } }
							job_marshal = { remove_title = job_marshal remove_opinion = { who = PREV modifier = opinion_fired_from_council } }
							job_chancellor = { remove_title = job_chancellor remove_opinion = { who = PREV modifier = opinion_fired_from_council } }
							job_treasurer = { remove_title = job_treasurer remove_opinion = { who = PREV modifier = opinion_fired_from_council } }
							job_spiritual = { remove_title = job_spiritual remove_opinion = { who = PREV modifier = opinion_fired_from_council } }
						}
					}
					clr_character_flag = lifetime_appointments
				}
				if = {
					limit = { has_character_flag = max_levies }
					current_heir = {
						set_character_flag = max_levies
					}
					clr_character_flag = max_levies
				}
				if = {
					limit = { trait = loyalist }
					current_heir = { add_trait = loyalist }
					remove_trait = loyalist
				}
				if = {
					limit = { trait = rebel }
					current_heir = { add_trait = rebel }
					random_playable_ruler = {
						limit = {
							reverse_has_opinion_modifier = {
								who = ROOT
								modifier = revolting_against
							}
						}
						ROOT = {
							current_heir = {
								opinion = { who = PREVPREV modifier = revolting_against years = 100 }
							}
							remove_opinion = {
								who = PREV
								modifier = revolting_against
							}
						}
					}
					remove_trait = rebel
				}
				current_heir = {
					any_playable_ruler = {
						limit = {
							has_opinion_modifier = {
								who = ROOT
								modifier = revolting_against
							}
						}
						opinion = { who = PREV modifier = revolting_against years = 100 }
						remove_opinion = {
							who = ROOT
							modifier = revolting_against
						}
					}
				}
				current_heir = {
					set_variable = { which = "faction_mood_feudal" value = 0 }
					set_variable = { which = "faction_mood_court" value = 0 }
					set_variable = { which = "faction_mood_republican" value = 0 }
					set_variable = { which = "faction_mood_religious" value = 0 }
					set_variable = { which = "rebel_power" value = 0 }
				}
				current_heir = {
					clr_character_flag = faction_feudal_happy
					clr_character_flag = faction_feudal_unhappy
					clr_character_flag = faction_feudal_angry
					clr_character_flag = faction_republican_happy
					clr_character_flag = faction_republican_unhappy
					clr_character_flag = faction_republican_angry
					clr_character_flag = faction_religious_happy
					clr_character_flag = faction_religious_unhappy
					clr_character_flag = faction_religious_angry
					clr_character_flag = faction_court_happy
					clr_character_flag = faction_court_unhappy
					clr_character_flag = faction_court_angry
				}
				if = {
					limit = { has_character_flag = faction_feudal_happy }
					current_heir = { set_character_flag = faction_feudal_happy }
				}
				if = {
					limit = { has_character_flag = faction_feudal_unhappy }
					current_heir = { set_character_flag = faction_feudal_unhappy }
				}
				if = {
					limit = { has_character_flag = faction_feudal_angry }
					current_heir = { set_character_flag = faction_feudal_angry }
				}
				if = {
					limit = { has_character_flag = faction_republican_happy }
					current_heir = { set_character_flag = faction_republican_happy }
				}
				if = {
					limit = { has_character_flag = faction_republican_unhappy }
					current_heir = { set_character_flag = faction_republican_unhappy }
				}
				if = {
					limit = { has_character_flag = faction_republican_angry }
					current_heir = { set_character_flag = faction_republican_angry }
				}
				if = {
					limit = { has_character_flag = faction_religious_happy }
					current_heir = { set_character_flag = faction_religious_happy }
				}
				if = {
					limit = { has_character_flag = faction_religious_unhappy }
					current_heir = { set_character_flag = faction_religious_unhappy }
				}
				if = {
					limit = { has_character_flag = faction_religious_angry }
					current_heir = { set_character_flag = faction_religious_angry }
				}
				if = {
					limit = { has_character_flag = faction_court_happy }
					current_heir = { set_character_flag = faction_court_happy }
				}
				if = {
					limit = { has_character_flag = faction_court_unhappy }
					current_heir = { set_character_flag = faction_court_unhappy }
				}
				if = {
					limit = { has_character_flag = faction_court_angry }
					current_heir = { set_character_flag = faction_court_angry }
				}
			}
			set_variable = { which = "faction_mood_feudal" value = 0 }
			set_variable = { which = "faction_mood_court" value = 0 }
			set_variable = { which = "faction_mood_republican" value = 0 }
			set_variable = { which = "faction_mood_religious" value = 0 }
			set_variable = { which = "rebel_power" value = 0 }
			clr_character_flag = faction_feudal_happy
			clr_character_flag = faction_feudal_unhappy
			clr_character_flag = faction_feudal_angry
			clr_character_flag = faction_republican_happy
			clr_character_flag = faction_republican_unhappy
			clr_character_flag = faction_republican_angry
			clr_character_flag = faction_religious_happy
			clr_character_flag = faction_religious_unhappy
			clr_character_flag = faction_religious_angry
			clr_character_flag = faction_court_happy
			clr_character_flag = faction_court_unhappy
			clr_character_flag = faction_court_angry
			if = {
				limit = {
					ai = yes
					is_ruler = no
					OR = {
						has_character_modifier = estates_1
						has_character_modifier = estates_2
						has_character_modifier = estates_3
						has_character_modifier = estates_4
						has_character_modifier = estates_5
					}
					any_child = {
						is_female = no
						is_alive = yes
						is_ruler = no
						NOT = { has_character_modifier = estates_5 }
						NOT = { trait = bastard }
					}
				}
				any_child = {
					limit = {
						is_female = no
						is_alive = yes
						NOT = { has_character_modifier = estates_5 }
						NOT = { trait = bastard }
					}
					if = {
						limit = {
							is_ruler = yes
							ROOT = {
								OR = {
									has_character_modifier = estates_1
									has_character_modifier = estates_2
									has_character_modifier = estates_3
									has_character_modifier = estates_4
									has_character_modifier = estates_5
								}
							}
						}
						wealth = 50
					}
					if = {
						limit = {
							is_ruler = no
							ROOT = {
								OR = {
									has_character_modifier = estates_1
									has_character_modifier = estates_2
									has_character_modifier = estates_3
									has_character_modifier = estates_4
									has_character_modifier = estates_5
								}
							}
							has_character_modifier = estates_4
						}
						remove_character_modifier = estates_4
						add_character_modifier = {
							name = "estates_5"
							duration = -1
						}
					}
					if = {
						limit = {
							is_ruler = no
							ROOT = {
								OR = {
									has_character_modifier = estates_1
									has_character_modifier = estates_2
									has_character_modifier = estates_3
									has_character_modifier = estates_4
									has_character_modifier = estates_5
								}
							}
							has_character_modifier = estates_3
						}
						remove_character_modifier = estates_3
						add_character_modifier = {
							name = "estates_4"
							duration = -1
						}
					}
					if = {
						limit = {
							is_ruler = no
							ROOT = {
								OR = {
									has_character_modifier = estates_1
									has_character_modifier = estates_2
									has_character_modifier = estates_3
									has_character_modifier = estates_4
									has_character_modifier = estates_5
								}
							}
							has_character_modifier = estates_2
						}
						remove_character_modifier = estates_2
						add_character_modifier = {
							name = "estates_3"
							duration = -1
						}
					}
					if = {
						limit = {
							is_ruler = no
							ROOT = {
								OR = {
									has_character_modifier = estates_1
									has_character_modifier = estates_2
									has_character_modifier = estates_3
									has_character_modifier = estates_4
									has_character_modifier = estates_5
								}
							}
							has_character_modifier = estates_1
						}
						remove_character_modifier = estates_1
						add_character_modifier = {
							name = "estates_2"
							duration = -1
						}
					}
					if = {
						limit = {
							is_ruler = no
							ROOT = {
								OR = {
									has_character_modifier = estates_1
									has_character_modifier = estates_2
									has_character_modifier = estates_3
									has_character_modifier = estates_4
									has_character_modifier = estates_5
								}
							}
							NOT = {
								has_character_modifier = estates_1
								has_character_modifier = estates_2
								has_character_modifier = estates_3
								has_character_modifier = estates_4
								has_character_modifier = estates_5
							}
						}
						add_character_modifier = {
							name = "estates_1"
							duration = -1
						}
						hidden_tooltip = {
							give_minor_title = title_lord
						}
					}
					ROOT = {
						if = {
							limit = {
								has_character_modifier = estates_1
							}
							remove_character_modifier = estates_1
						}
						if = {
							limit = {
								has_character_modifier = estates_2
							}
							remove_character_modifier = estates_2
							add_character_modifier = {
								name = "estates_1"
								duration = -1
							}
						}
						if = {
							limit = {
								has_character_modifier = estates_3
							}
							remove_character_modifier = estates_3
							add_character_modifier = {
								name = "estates_2"
								duration = -1
							}
						}
						if = {
							limit = {
								has_character_modifier = estates_4
							}
							remove_character_modifier = estates_4
							add_character_modifier = {
								name = "estates_3"
								duration = -1
							}
						}
						if = {
							limit = {
								has_character_modifier = estates_5
							}
							remove_character_modifier = estates_5
							add_character_modifier = {
								name = "estates_4"
								duration = -1
							}
						}
					}
				}
				any_child = {
					limit = {
						is_female = no
						is_alive = yes
						NOT = { has_character_modifier = estates_5 }
						NOT = { trait = bastard }
					}
					if = {
						limit = {
							is_ruler = yes
							ROOT = {
								OR = {
									has_character_modifier = estates_1
									has_character_modifier = estates_2
									has_character_modifier = estates_3
									has_character_modifier = estates_4
									has_character_modifier = estates_5
								}
							}
						}
						wealth = 50
					}
					if = {
						limit = {
							is_ruler = no
							ROOT = {
								OR = {
									has_character_modifier = estates_1
									has_character_modifier = estates_2
									has_character_modifier = estates_3
									has_character_modifier = estates_4
									has_character_modifier = estates_5
								}
							}
							has_character_modifier = estates_4
						}
						remove_character_modifier = estates_4
						add_character_modifier = {
							name = "estates_5"
							duration = -1
						}
					}
					if = {
						limit = {
							is_ruler = no
							ROOT = {
								OR = {
									has_character_modifier = estates_1
									has_character_modifier = estates_2
									has_character_modifier = estates_3
									has_character_modifier = estates_4
									has_character_modifier = estates_5
								}
							}
							has_character_modifier = estates_3
						}
						remove_character_modifier = estates_3
						add_character_modifier = {
							name = "estates_4"
							duration = -1
						}
					}
					if = {
						limit = {
							is_ruler = no
							ROOT = {
								OR = {
									has_character_modifier = estates_1
									has_character_modifier = estates_2
									has_character_modifier = estates_3
									has_character_modifier = estates_4
									has_character_modifier = estates_5
								}
							}
							has_character_modifier = estates_2
						}
						remove_character_modifier = estates_2
						add_character_modifier = {
							name = "estates_3"
							duration = -1
						}
					}
					if = {
						limit = {
							is_ruler = no
							ROOT = {
								OR = {
									has_character_modifier = estates_1
									has_character_modifier = estates_2
									has_character_modifier = estates_3
									has_character_modifier = estates_4
									has_character_modifier = estates_5
								}
							}
							has_character_modifier = estates_1
						}
						remove_character_modifier = estates_1
						add_character_modifier = {
							name = "estates_2"
							duration = -1
						}
					}
					if = {
						limit = {
							is_ruler = no
							ROOT = {
								OR = {
									has_character_modifier = estates_1
									has_character_modifier = estates_2
									has_character_modifier = estates_3
									has_character_modifier = estates_4
									has_character_modifier = estates_5
								}
							}
							NOT = {
								has_character_modifier = estates_1
								has_character_modifier = estates_2
								has_character_modifier = estates_3
								has_character_modifier = estates_4
								has_character_modifier = estates_5
							}
						}
						add_character_modifier = {
							name = "estates_1"
							duration = -1
						}
						hidden_tooltip = {
							give_minor_title = title_lord
						}
					}
					ROOT = {
						if = {
							limit = {
								has_character_modifier = estates_1
							}
							remove_character_modifier = estates_1
						}
						if = {
							limit = {
								has_character_modifier = estates_2
							}
							remove_character_modifier = estates_2
							add_character_modifier = {
								name = "estates_1"
								duration = -1
							}
						}
						if = {
							limit = {
								has_character_modifier = estates_3
							}
							remove_character_modifier = estates_3
							add_character_modifier = {
								name = "estates_2"
								duration = -1
							}
						}
						if = {
							limit = {
								has_character_modifier = estates_4
							}
							remove_character_modifier = estates_4
							add_character_modifier = {
								name = "estates_3"
								duration = -1
							}
						}
						if = {
							limit = {
								has_character_modifier = estates_5
							}
							remove_character_modifier = estates_5
							add_character_modifier = {
								name = "estates_4"
								duration = -1
							}
						}
					}
				}
				any_child = {
					limit = {
						is_female = no
						is_alive = yes
						NOT = { has_character_modifier = estates_5 }
						NOT = { trait = bastard }
					}
					if = {
						limit = {
							is_ruler = yes
							ROOT = {
								OR = {
									has_character_modifier = estates_1
									has_character_modifier = estates_2
									has_character_modifier = estates_3
									has_character_modifier = estates_4
									has_character_modifier = estates_5
								}
							}
						}
						wealth = 50
					}
					if = {
						limit = {
							is_ruler = no
							ROOT = {
								OR = {
									has_character_modifier = estates_1
									has_character_modifier = estates_2
									has_character_modifier = estates_3
									has_character_modifier = estates_4
									has_character_modifier = estates_5
								}
							}
							has_character_modifier = estates_4
						}
						remove_character_modifier = estates_4
						add_character_modifier = {
							name = "estates_5"
							duration = -1
						}
					}
					if = {
						limit = {
							is_ruler = no
							ROOT = {
								OR = {
									has_character_modifier = estates_1
									has_character_modifier = estates_2
									has_character_modifier = estates_3
									has_character_modifier = estates_4
									has_character_modifier = estates_5
								}
							}
							has_character_modifier = estates_3
						}
						remove_character_modifier = estates_3
						add_character_modifier = {
							name = "estates_4"
							duration = -1
						}
					}
					if = {
						limit = {
							is_ruler = no
							ROOT = {
								OR = {
									has_character_modifier = estates_1
									has_character_modifier = estates_2
									has_character_modifier = estates_3
									has_character_modifier = estates_4
									has_character_modifier = estates_5
								}
							}
							has_character_modifier = estates_2
						}
						remove_character_modifier = estates_2
						add_character_modifier = {
							name = "estates_3"
							duration = -1
						}
					}
					if = {
						limit = {
							is_ruler = no
							ROOT = {
								OR = {
									has_character_modifier = estates_1
									has_character_modifier = estates_2
									has_character_modifier = estates_3
									has_character_modifier = estates_4
									has_character_modifier = estates_5
								}
							}
							has_character_modifier = estates_1
						}
						remove_character_modifier = estates_1
						add_character_modifier = {
							name = "estates_2"
							duration = -1
						}
					}
					if = {
						limit = {
							is_ruler = no
							ROOT = {
								OR = {
									has_character_modifier = estates_1
									has_character_modifier = estates_2
									has_character_modifier = estates_3
									has_character_modifier = estates_4
									has_character_modifier = estates_5
								}
							}
							NOT = {
								has_character_modifier = estates_1
								has_character_modifier = estates_2
								has_character_modifier = estates_3
								has_character_modifier = estates_4
								has_character_modifier = estates_5
							}
						}
						add_character_modifier = {
							name = "estates_1"
							duration = -1
						}
						hidden_tooltip = {
							give_minor_title = title_lord
						}
					}
					ROOT = {
						if = {
							limit = {
								has_character_modifier = estates_1
							}
							remove_character_modifier = estates_1
						}
						if = {
							limit = {
								has_character_modifier = estates_2
							}
							remove_character_modifier = estates_2
							add_character_modifier = {
								name = "estates_1"
								duration = -1
							}
						}
						if = {
							limit = {
								has_character_modifier = estates_3
							}
							remove_character_modifier = estates_3
							add_character_modifier = {
								name = "estates_2"
								duration = -1
							}
						}
						if = {
							limit = {
								has_character_modifier = estates_4
							}
							remove_character_modifier = estates_4
							add_character_modifier = {
								name = "estates_3"
								duration = -1
							}
						}
						if = {
							limit = {
								has_character_modifier = estates_5
							}
							remove_character_modifier = estates_5
							add_character_modifier = {
								name = "estates_4"
								duration = -1
							}
						}
					}
				}
				any_child = {
					limit = {
						is_female = no
						is_alive = yes
						NOT = { has_character_modifier = estates_5 }
						NOT = { trait = bastard }
					}
					if = {
						limit = {
							is_ruler = yes
							ROOT = {
								OR = {
									has_character_modifier = estates_1
									has_character_modifier = estates_2
									has_character_modifier = estates_3
									has_character_modifier = estates_4
									has_character_modifier = estates_5
								}
							}
						}
						wealth = 50
					}
					if = {
						limit = {
							is_ruler = no
							ROOT = {
								OR = {
									has_character_modifier = estates_1
									has_character_modifier = estates_2
									has_character_modifier = estates_3
									has_character_modifier = estates_4
									has_character_modifier = estates_5
								}
							}
							has_character_modifier = estates_4
						}
						remove_character_modifier = estates_4
						add_character_modifier = {
							name = "estates_5"
							duration = -1
						}
					}
					if = {
						limit = {
							is_ruler = no
							ROOT = {
								OR = {
									has_character_modifier = estates_1
									has_character_modifier = estates_2
									has_character_modifier = estates_3
									has_character_modifier = estates_4
									has_character_modifier = estates_5
								}
							}
							has_character_modifier = estates_3
						}
						remove_character_modifier = estates_3
						add_character_modifier = {
							name = "estates_4"
							duration = -1
						}
					}
					if = {
						limit = {
							is_ruler = no
							ROOT = {
								OR = {
									has_character_modifier = estates_1
									has_character_modifier = estates_2
									has_character_modifier = estates_3
									has_character_modifier = estates_4
									has_character_modifier = estates_5
								}
							}
							has_character_modifier = estates_2
						}
						remove_character_modifier = estates_2
						add_character_modifier = {
							name = "estates_3"
							duration = -1
						}
					}
					if = {
						limit = {
							is_ruler = no
							ROOT = {
								OR = {
									has_character_modifier = estates_1
									has_character_modifier = estates_2
									has_character_modifier = estates_3
									has_character_modifier = estates_4
									has_character_modifier = estates_5
								}
							}
							has_character_modifier = estates_1
						}
						remove_character_modifier = estates_1
						add_character_modifier = {
							name = "estates_2"
							duration = -1
						}
					}
					if = {
						limit = {
							is_ruler = no
							ROOT = {
								OR = {
									has_character_modifier = estates_1
									has_character_modifier = estates_2
									has_character_modifier = estates_3
									has_character_modifier = estates_4
									has_character_modifier = estates_5
								}
							}
							NOT = {
								has_character_modifier = estates_1
								has_character_modifier = estates_2
								has_character_modifier = estates_3
								has_character_modifier = estates_4
								has_character_modifier = estates_5
							}
						}
						add_character_modifier = {
							name = "estates_1"
							duration = -1
						}
						hidden_tooltip = {
							give_minor_title = title_lord
						}
					}
					ROOT = {
						if = {
							limit = {
								has_character_modifier = estates_1
							}
							remove_character_modifier = estates_1
						}
						if = {
							limit = {
								has_character_modifier = estates_2
							}
							remove_character_modifier = estates_2
							add_character_modifier = {
								name = "estates_1"
								duration = -1
							}
						}
						if = {
							limit = {
								has_character_modifier = estates_3
							}
							remove_character_modifier = estates_3
							add_character_modifier = {
								name = "estates_2"
								duration = -1
							}
						}
						if = {
							limit = {
								has_character_modifier = estates_4
							}
							remove_character_modifier = estates_4
							add_character_modifier = {
								name = "estates_3"
								duration = -1
							}
						}
						if = {
							limit = {
								has_character_modifier = estates_5
							}
							remove_character_modifier = estates_5
							add_character_modifier = {
								name = "estates_4"
								duration = -1
							}
						}
					}
				}
				any_child = {
					limit = {
						is_female = no
						is_alive = yes
						NOT = { has_character_modifier = estates_5 }
						NOT = { trait = bastard }
					}
					if = {
						limit = {
							is_ruler = yes
							ROOT = {
								OR = {
									has_character_modifier = estates_1
									has_character_modifier = estates_2
									has_character_modifier = estates_3
									has_character_modifier = estates_4
									has_character_modifier = estates_5
								}
							}
						}
						wealth = 50
					}
					if = {
						limit = {
							is_ruler = no
							ROOT = {
								OR = {
									has_character_modifier = estates_1
									has_character_modifier = estates_2
									has_character_modifier = estates_3
									has_character_modifier = estates_4
									has_character_modifier = estates_5
								}
							}
							has_character_modifier = estates_4
						}
						remove_character_modifier = estates_4
						add_character_modifier = {
							name = "estates_5"
							duration = -1
						}
					}
					if = {
						limit = {
							is_ruler = no
							ROOT = {
								OR = {
									has_character_modifier = estates_1
									has_character_modifier = estates_2
									has_character_modifier = estates_3
									has_character_modifier = estates_4
									has_character_modifier = estates_5
								}
							}
							has_character_modifier = estates_3
						}
						remove_character_modifier = estates_3
						add_character_modifier = {
							name = "estates_4"
							duration = -1
						}
					}
					if = {
						limit = {
							is_ruler = no
							ROOT = {
								OR = {
									has_character_modifier = estates_1
									has_character_modifier = estates_2
									has_character_modifier = estates_3
									has_character_modifier = estates_4
									has_character_modifier = estates_5
								}
							}
							has_character_modifier = estates_2
						}
						remove_character_modifier = estates_2
						add_character_modifier = {
							name = "estates_3"
							duration = -1
						}
					}
					if = {
						limit = {
							is_ruler = no
							ROOT = {
								OR = {
									has_character_modifier = estates_1
									has_character_modifier = estates_2
									has_character_modifier = estates_3
									has_character_modifier = estates_4
									has_character_modifier = estates_5
								}
							}
							has_character_modifier = estates_1
						}
						remove_character_modifier = estates_1
						add_character_modifier = {
							name = "estates_2"
							duration = -1
						}
					}
					if = {
						limit = {
							is_ruler = no
							ROOT = {
								OR = {
									has_character_modifier = estates_1
									has_character_modifier = estates_2
									has_character_modifier = estates_3
									has_character_modifier = estates_4
									has_character_modifier = estates_5
								}
							}
							NOT = {
								has_character_modifier = estates_1
								has_character_modifier = estates_2
								has_character_modifier = estates_3
								has_character_modifier = estates_4
								has_character_modifier = estates_5
							}
						}
						add_character_modifier = {
							name = "estates_1"
							duration = -1
						}
						hidden_tooltip = {
							give_minor_title = title_lord
						}
					}
					ROOT = {
						if = {
							limit = {
								has_character_modifier = estates_1
							}
							remove_character_modifier = estates_1
						}
						if = {
							limit = {
								has_character_modifier = estates_2
							}
							remove_character_modifier = estates_2
							add_character_modifier = {
								name = "estates_1"
								duration = -1
							}
						}
						if = {
							limit = {
								has_character_modifier = estates_3
							}
							remove_character_modifier = estates_3
							add_character_modifier = {
								name = "estates_2"
								duration = -1
							}
						}
						if = {
							limit = {
								has_character_modifier = estates_4
							}
							remove_character_modifier = estates_4
							add_character_modifier = {
								name = "estates_3"
								duration = -1
							}
						}
						if = {
							limit = {
								has_character_modifier = estates_5
							}
							remove_character_modifier = estates_5
							add_character_modifier = {
								name = "estates_4"
								duration = -1
							}
						}
					}
				}
			}
			#fix wrong religion heirs
			if = {
				limit = {
					ai = yes
					is_ruler = yes
					NOT = { is_feudal = yes }
					current_heir = {
						NOT = { religion_group = ROOT }
					}
				}
				current_heir = {
					religion = ROOT
				}
			}
			#tyrant
			if = {
				limit = {
					ai = no
					OR = {
						trait = tyrant3
						trait = tyrant4
						trait = tyrant5
						trait = tyrant6
						trait = tyrant7
						trait = tyrant8
						trait = tyrant9
						trait = tyrant10
						trait = tyrant11
						trait = tyrant12
						trait = tyrant13
						trait = tyrant14
						trait = tyrant15
						trait = tyrant16
						trait = tyrant17
						trait = tyrant18
						trait = tyrant19
						trait = tyrant20
					}
				}
				if = {
					limit = {
						trait = tyrant3
					}
					change_variable = { which = "tyrant" value = 1 }
				}
				if = {
					limit = {
						trait = tyrant4
					}
					change_variable = { which = "tyrant" value = 2 }
				}
				if = {
					limit = {
						trait = tyrant5
					}
					change_variable = { which = "tyrant" value = 3 }
				}
				if = {
					limit = {
						trait = tyrant6
					}
					change_variable = { which = "tyrant" value = 4 }
				}
				if = {
					limit = {
						trait = tyrant7
					}
					change_variable = { which = "tyrant" value = 5 }
				}
				if = {
					limit = {
						trait = tyrant8
					}
					change_variable = { which = "tyrant" value = 6 }
				}
				if = {
					limit = {
						trait = tyrant9
					}
					change_variable = { which = "tyrant" value = 7 }
				}
				if = {
					limit = {
						trait = tyrant10
					}
					change_variable = { which = "tyrant" value = 8 }
				}
				if = {
					limit = {
						trait = tyrant11
					}
					change_variable = { which = "tyrant" value = 9 }
				}
				if = {
					limit = {
						trait = tyrant12
					}
					change_variable = { which = "tyrant" value = 10 }
				}
				if = {
					limit = {
						trait = tyrant13
					}
					change_variable = { which = "tyrant" value = 11 }
				}
				if = {
					limit = {
						trait = tyrant14
					}
					change_variable = { which = "tyrant" value = 12 }
				}
				if = {
					limit = {
						trait = tyrant15
					}
					change_variable = { which = "tyrant" value = 13 }
				}
				if = {
					limit = {
						trait = tyrant16
					}
					change_variable = { which = "tyrant" value = 14 }
				}
				if = {
					limit = {
						trait = tyrant17
					}
					change_variable = { which = "tyrant" value = 15 }
				}
				if = {
					limit = {
						trait = tyrant18
					}
					change_variable = { which = "tyrant" value = 16 }
				}
				if = {
					limit = {
						trait = tyrant19
					}
					change_variable = { which = "tyrant" value = 17 }
				}
				if = {
					limit = {
						trait = tyrant20
					}
					change_variable = { which = "tyrant" value = 18 }
				}
				if = {
					limit = {
						current_heir = { trait = tyrant1 }
					}
					change_variable = { which = "tyrant" value = 1 }
				}
				if = {
					limit = {
						current_heir = { trait = tyrant2 }
					}
					change_variable = { which = "tyrant" value = 2 }
				}
				if = {
					limit = {
						current_heir = { trait = tyrant3 }
					}
					change_variable = { which = "tyrant" value = 3 }
				}
				if = {
					limit = {
						current_heir = { trait = tyrant4 }
					}
					change_variable = { which = "tyrant" value = 4 }
				}
				if = {
					limit = {
						current_heir = { trait = tyrant5 }
					}
					change_variable = { which = "tyrant" value = 5 }
				}
				if = {
					limit = {
						current_heir = { trait = tyrant6 }
					}
					change_variable = { which = "tyrant" value = 6 }
				}
				if = {
					limit = {
						current_heir = { trait = tyrant7 }
					}
					change_variable = { which = "tyrant" value = 7 }
				}
				if = {
					limit = {
						current_heir = { trait = tyrant8 }
					}
					change_variable = { which = "tyrant" value = 8 }
				}
				if = {
					limit = {
						current_heir = { trait = tyrant9 }
					}
					change_variable = { which = "tyrant" value = 9 }
				}
				if = {
					limit = {
						current_heir = { trait = tyrant10 }
					}
					change_variable = { which = "tyrant" value = 10 }
				}
				if = {
					limit = {
						current_heir = { trait = tyrant11 }
					}
					change_variable = { which = "tyrant" value = 11 }
				}
				if = {
					limit = {
						current_heir = { trait = tyrant12 }
					}
					change_variable = { which = "tyrant" value = 12 }
				}
				if = {
					limit = {
						current_heir = { trait = tyrant13 }
					}
					change_variable = { which = "tyrant" value = 13 }
				}
				if = {
					limit = {
						current_heir = { trait = tyrant14 }
					}
					change_variable = { which = "tyrant" value = 14 }
				}
				if = {
					limit = {
						current_heir = { trait = tyrant15 }
					}
					change_variable = { which = "tyrant" value = 15 }
				}
				if = {
					limit = {
						current_heir = { trait = tyrant16 }
					}
					change_variable = { which = "tyrant" value = 16 }
				}
				if = {
					limit = {
						current_heir = { trait = tyrant17 }
					}
					change_variable = { which = "tyrant" value = 17 }
				}
				if = {
					limit = {
						current_heir = { trait = tyrant18 }
					}
					change_variable = { which = "tyrant" value = 18 }
				}
				if = {
					limit = {
						current_heir = { trait = tyrant19 }
					}
					change_variable = { which = "tyrant" value = 19 }
				}
				if = {
					limit = {
						current_heir = { trait = tyrant20 }
					}
					change_variable = { which = "tyrant" value = 20 }
				}
				remove_trait = tyrant1
				remove_trait = tyrant2
				remove_trait = tyrant3
				remove_trait = tyrant4
				remove_trait = tyrant5
				remove_trait = tyrant6
				remove_trait = tyrant7
				remove_trait = tyrant8
				remove_trait = tyrant9
				remove_trait = tyrant10
				remove_trait = tyrant11
				remove_trait = tyrant12
				remove_trait = tyrant13
				remove_trait = tyrant14
				remove_trait = tyrant15
				remove_trait = tyrant16
				remove_trait = tyrant17
				remove_trait = tyrant18
				remove_trait = tyrant19
				remove_trait = tyrant20
				current_heir = {
					remove_trait = tyrant1
					remove_trait = tyrant2
					remove_trait = tyrant3
					remove_trait = tyrant4
					remove_trait = tyrant5
					remove_trait = tyrant6
					remove_trait = tyrant7
					remove_trait = tyrant8
					remove_trait = tyrant9
					remove_trait = tyrant10
					remove_trait = tyrant11
					remove_trait = tyrant12
					remove_trait = tyrant13
					remove_trait = tyrant14
					remove_trait = tyrant15
					remove_trait = tyrant16
					remove_trait = tyrant17
					remove_trait = tyrant18
					remove_trait = tyrant19
					remove_trait = tyrant20
				}
				if = {
					limit = {
						check_variable = { which = "tyrant" value = 0.9 }
						NOT = { check_variable = { which = "tyrant" value = 1.9 } }
					}
					current_heir = {
						add_trait = tyrant1
					}
				}
				if = {
					limit = {
						check_variable = { which = "tyrant" value = 1.9 }
						NOT = { check_variable = { which = "tyrant" value = 2.9 } }
					}
					current_heir = {
						add_trait = tyrant2
					}
				}
				if = {
					limit = {
						check_variable = { which = "tyrant" value = 2.9 }
						NOT = { check_variable = { which = "tyrant" value = 3.9 } }
					}
					current_heir = {
						add_trait = tyrant3
					}
				}
				if = {
					limit = {
						check_variable = { which = "tyrant" value = 3.9 }
						NOT = { check_variable = { which = "tyrant" value = 4.9 } }
					}
					current_heir = {
						add_trait = tyrant4
					}
				}
				if = {
					limit = {
						check_variable = { which = "tyrant" value = 4.9 }
						NOT = { check_variable = { which = "tyrant" value = 5.9 } }
					}
					current_heir = {
						add_trait = tyrant5
					}
				}
				if = {
					limit = {
						check_variable = { which = "tyrant" value = 5.9 }
						NOT = { check_variable = { which = "tyrant" value = 6.9 } }
					}
					current_heir = {
						add_trait = tyrant6
					}
				}
				if = {
					limit = {
						check_variable = { which = "tyrant" value = 6.9 }
						NOT = { check_variable = { which = "tyrant" value = 7.9 } }
					}
					current_heir = {
						add_trait = tyrant7
					}
				}
				if = {
					limit = {
						check_variable = { which = "tyrant" value = 7.9 }
						NOT = { check_variable = { which = "tyrant" value = 8.9 } }
					}
					current_heir = {
						add_trait = tyrant8
					}
				}
				if = {
					limit = {
						check_variable = { which = "tyrant" value = 8.9 }
						NOT = { check_variable = { which = "tyrant" value = 9.9 } }
					}
					current_heir = {
						add_trait = tyrant9
					}
				}
				if = {
					limit = {
						check_variable = { which = "tyrant" value = 9.9 }
						NOT = { check_variable = { which = "tyrant" value = 10.9 } }
					}
					current_heir = {
						add_trait = tyrant10
					}
				}
				if = {
					limit = {
						check_variable = { which = "tyrant" value = 10.9 }
						NOT = { check_variable = { which = "tyrant" value = 11.9 } }
					}
					current_heir = {
						add_trait = tyrant11
					}
				}
				if = {
					limit = {
						check_variable = { which = "tyrant" value = 11.9 }
						NOT = { check_variable = { which = "tyrant" value = 12.9 } }
					}
					current_heir = {
						add_trait = tyrant12
					}
				}
				if = {
					limit = {
						check_variable = { which = "tyrant" value = 12.9 }
						NOT = { check_variable = { which = "tyrant" value = 13.9 } }
					}
					current_heir = {
						add_trait = tyrant13
					}
				}
				if = {
					limit = {
						check_variable = { which = "tyrant" value = 13.9 }
						NOT = { check_variable = { which = "tyrant" value = 14.9 } }
					}
					current_heir = {
						add_trait = tyrant14
					}
				}
				if = {
					limit = {
						check_variable = { which = "tyrant" value = 14.9 }
						NOT = { check_variable = { which = "tyrant" value = 15.9 } }
					}
					current_heir = {
						add_trait = tyrant15
					}
				}
				if = {
					limit = {
						check_variable = { which = "tyrant" value = 15.9 }
						NOT = { check_variable = { which = "tyrant" value = 16.9 } }
					}
					current_heir = {
						add_trait = tyrant16
					}
				}
				if = {
					limit = {
						check_variable = { which = "tyrant" value = 16.9 }
						NOT = { check_variable = { which = "tyrant" value = 17.9 } }
					}
					current_heir = {
						add_trait = tyrant17
					}
				}
				if = {
					limit = {
						check_variable = { which = "tyrant" value = 17.9 }
						NOT = { check_variable = { which = "tyrant" value = 18.9 } }
					}
					current_heir = {
						add_trait = tyrant18
					}
				}
				if = {
					limit = {
						check_variable = { which = "tyrant" value = 18.9 }
						NOT = { check_variable = { which = "tyrant" value = 19.9 } }
					}
					current_heir = {
						add_trait = tyrant19
					}
				}
				if = {
					limit = {
						check_variable = { which = "tyrant" value = 19.9 }
					}
					current_heir = {
						add_trait = tyrant20
					}
				}
			}
			#dishonorable
			if = {
				limit = {
					ai = no
					OR = {
						trait = dishonorable2
						trait = dishonorable3
						trait = dishonorable4
						trait = dishonorable5
						trait = dishonorable6
						trait = dishonorable7
						trait = dishonorable8
						trait = dishonorable9
						trait = dishonorable10
					}
				}
				if = {
					limit = {
						trait = dishonorable2
					}
					change_variable = { which = "dishonorable" value = 1 }
				}
				if = {
					limit = {
						trait = dishonorable3
					}
					change_variable = { which = "dishonorable" value = 2 }
				}
				if = {
					limit = {
						trait = dishonorable4
					}
					change_variable = { which = "dishonorable" value = 3 }
				}
				if = {
					limit = {
						trait = dishonorable5
					}
					change_variable = { which = "dishonorable" value = 4 }
				}
				if = {
					limit = {
						trait = dishonorable6
					}
					change_variable = { which = "dishonorable" value = 5 }
				}
				if = {
					limit = {
						trait = dishonorable7
					}
					change_variable = { which = "dishonorable" value = 6 }
				}
				if = {
					limit = {
						trait = dishonorable8
					}
					change_variable = { which = "dishonorable" value = 7 }
				}
				if = {
					limit = {
						trait = dishonorable9
					}
					change_variable = { which = "dishonorable" value = 8 }
				}
				if = {
					limit = {
						trait = dishonorable10
					}
					change_variable = { which = "dishonorable" value = 9 }
				}
				if = {
					limit = {
						current_heir = { trait = dishonorable1 }
					}
					change_variable = { which = "dishonorable" value = 1 }
				}
				if = {
					limit = {
						current_heir = { trait = dishonorable2 }
					}
					change_variable = { which = "dishonorable" value = 2 }
				}
				if = {
					limit = {
						current_heir = { trait = dishonorable3 }
					}
					change_variable = { which = "dishonorable" value = 3 }
				}
				if = {
					limit = {
						current_heir = { trait = dishonorable4 }
					}
					change_variable = { which = "dishonorable" value = 4 }
				}
				if = {
					limit = {
						current_heir = { trait = dishonorable5 }
					}
					change_variable = { which = "dishonorable" value = 5 }
				}
				if = {
					limit = {
						current_heir = { trait = dishonorable6 }
					}
					change_variable = { which = "dishonorable" value = 6 }
				}
				if = {
					limit = {
						current_heir = { trait = dishonorable7 }
					}
					change_variable = { which = "dishonorable" value = 7 }
				}
				if = {
					limit = {
						current_heir = { trait = dishonorable8 }
					}
					change_variable = { which = "dishonorable" value = 8 }
				}
				if = {
					limit = {
						current_heir = { trait = dishonorable9 }
					}
					change_variable = { which = "dishonorable" value = 9 }
				}
				if = {
					limit = {
						current_heir = { trait = dishonorable10 }
					}
					change_variable = { which = "dishonorable" value = 10 }
				}
				if = {
					limit = {
						current_heir = { trait = dyn_dishonorable1 }
					}
					change_variable = { which = "dishonorable" value = 1 }
				}
				if = {
					limit = {
						current_heir = { trait = dyn_dishonorable2 }
					}
					change_variable = { which = "dishonorable" value = 2 }
				}
				if = {
					limit = {
						current_heir = { trait = dyn_dishonorable3 }
					}
					change_variable = { which = "dishonorable" value = 3 }
				}
				if = {
					limit = {
						current_heir = { trait = dyn_dishonorable4 }
					}
					change_variable = { which = "dishonorable" value = 4 }
				}
				if = {
					limit = {
						current_heir = { trait = dyn_dishonorable5 }
					}
					change_variable = { which = "dishonorable" value = 5 }
				}
				if = {
					limit = {
						current_heir = { trait = dyn_dishonorable6 }
					}
					change_variable = { which = "dishonorable" value = 6 }
				}
				if = {
					limit = {
						current_heir = { trait = dyn_dishonorable7 }
					}
					change_variable = { which = "dishonorable" value = 7 }
				}
				if = {
					limit = {
						current_heir = { trait = dyn_dishonorable8 }
					}
					change_variable = { which = "dishonorable" value = 8 }
				}
				if = {
					limit = {
						current_heir = { trait = dyn_dishonorable9 }
					}
					change_variable = { which = "dishonorable" value = 9 }
				}
				if = {
					limit = {
						current_heir = { trait = dyn_dishonorable10 }
					}
					change_variable = { which = "dishonorable" value = 10 }
				}
				remove_trait = dishonorable1
				remove_trait = dishonorable2
				remove_trait = dishonorable3
				remove_trait = dishonorable4
				remove_trait = dishonorable5
				remove_trait = dishonorable6
				remove_trait = dishonorable7
				remove_trait = dishonorable8
				remove_trait = dishonorable9
				remove_trait = dishonorable10
				remove_trait = dyn_dishonorable1
				remove_trait = dyn_dishonorable2
				remove_trait = dyn_dishonorable3
				remove_trait = dyn_dishonorable4
				remove_trait = dyn_dishonorable5
				remove_trait = dyn_dishonorable6
				remove_trait = dyn_dishonorable7
				remove_trait = dyn_dishonorable8
				remove_trait = dyn_dishonorable9
				remove_trait = dyn_dishonorable10
				current_heir = {
					remove_trait = dishonorable1
					remove_trait = dishonorable2
					remove_trait = dishonorable3
					remove_trait = dishonorable4
					remove_trait = dishonorable5
					remove_trait = dishonorable6
					remove_trait = dishonorable7
					remove_trait = dishonorable8
					remove_trait = dishonorable9
					remove_trait = dishonorable10
					remove_trait = dyn_dishonorable1
					remove_trait = dyn_dishonorable2
					remove_trait = dyn_dishonorable3
					remove_trait = dyn_dishonorable4
					remove_trait = dyn_dishonorable5
					remove_trait = dyn_dishonorable6
					remove_trait = dyn_dishonorable7
					remove_trait = dyn_dishonorable8
					remove_trait = dyn_dishonorable9
					remove_trait = dyn_dishonorable10
				}
				if = {
					limit = {
						check_variable = { which = "dishonorable" value = 0.9 }
						NOT = { check_variable = { which = "dishonorable" value = 1.9 } }
					}
					current_heir = {
						add_trait = dyn_dishonorable1
					}
				}
				if = {
					limit = {
						check_variable = { which = "dishonorable" value = 1.9 }
						NOT = { check_variable = { which = "dishonorable" value = 2.9 } }
					}
					current_heir = {
						add_trait = dyn_dishonorable2
					}
				}
				if = {
					limit = {
						check_variable = { which = "dishonorable" value = 2.9 }
						NOT = { check_variable = { which = "dishonorable" value = 3.9 } }
					}
					current_heir = {
						add_trait = dyn_dishonorable3
					}
				}
				if = {
					limit = {
						check_variable = { which = "dishonorable" value = 3.9 }
						NOT = { check_variable = { which = "dishonorable" value = 4.9 } }
					}
					current_heir = {
						add_trait = dyn_dishonorable4
					}
				}
				if = {
					limit = {
						check_variable = { which = "dishonorable" value = 4.9 }
						NOT = { check_variable = { which = "dishonorable" value = 5.9 } }
					}
					current_heir = {
						add_trait = dyn_dishonorable5
					}
				}
				if = {
					limit = {
						check_variable = { which = "dishonorable" value = 5.9 }
						NOT = { check_variable = { which = "dishonorable" value = 6.9 } }
					}
					current_heir = {
						add_trait = dyn_dishonorable6
					}
				}
				if = {
					limit = {
						check_variable = { which = "dishonorable" value = 6.9 }
						NOT = { check_variable = { which = "dishonorable" value = 7.9 } }
					}
					current_heir = {
						add_trait = dyn_dishonorable7
					}
				}
				if = {
					limit = {
						check_variable = { which = "dishonorable" value = 7.9 }
						NOT = { check_variable = { which = "dishonorable" value = 8.9 } }
					}
					current_heir = {
						add_trait = dyn_dishonorable8
					}
				}
				if = {
					limit = {
						check_variable = { which = "dishonorable" value = 8.9 }
						NOT = { check_variable = { which = "dishonorable" value = 9.9 } }
					}
					current_heir = {
						add_trait = dyn_dishonorable9
					}
				}
				if = {
					limit = {
						check_variable = { which = "dishonorable" value = 9.9 }
					}
					current_heir = {
						add_trait = dyn_dishonorable10
					}
				}
			}
		}
	}

	option = {
		name = "EVTOPTA110044"
	}
}

character_event = {
	id = 110049
	is_triggered_only = yes

	trigger = {
		ai = yes
		age = 18
		OR = {
			is_female = no
			NOT = { age = 40 }
		}
		NOT = { age = 60 }
		NOT = { trait = eunuch }
		NOT = { trait = celibate }
		NOT = { trait = infirm }
		NOT = { trait = incapable }
		is_married = no
		is_consort = no
		is_betrothed = no
		is_patrician = no
		can_marry = yes
		NOT = { mercenary = yes }
		OR = {
			is_ruler = yes
			liege = { ai = no }
		}
		OR = {
			is_ruler = yes
			is_female = no
		}
		OR = {
			is_ruler = no
			demesne_size = 1
		}
		OR = {
			is_ruler = yes
			liege = { NOT = { is_close_relative = ROOT } }
		}
		OR = {
			is_ruler = no
			primary_title = {
				NOT = {
					title = d_teutonic_order
					title = d_knights_templar
					title = d_knights_hospitaler
					title = d_ghazi_sunni
					title = d_ghazi_shiite
					title = d_hashshashin
					title = d_jomsvikings
					title = d_devotees_of_the_true_prophet
					title = d_great_host
					title = d_guardians_of_the_sacred_flame
					title = d_disciples_of_the_old_gods
					title = d_zhayedan_1
					title = d_zhayedan_2
					title = d_anubis
					title = d_horus
					title = d_immortals
					title = d_zealots
					title = d_holy_sepulchre
					title = d_saint_anthony
					title = d_sky_lords
					title = d_spirit_guardians
					title = d_warriors_perun
					title = d_chosen_perkunas
					title = d_sons_kaleva
					title = d_huitzilopochtli
					title = d_knights_santiago
					title = d_knights_calatrava
					title = e_rebels
					title = e_pirates
					title = d_braedralag
					title = d_herculean
					title = d_sacred_band
				}
			}
		}
		OR = {
			tier = BARON
			is_feudal = no
			is_ruler = no
		}
		treasury = 10
	}

	mean_time_to_happen = {
		days = 1
	}

	desc = "AI_EVENT"

	option = {
		name = "OK"
		treasury = -10
		set_character_flag = event_110049
		if = {
			limit = {
				is_female = no
			}
			if = {
				limit = { is_ruler = no }
				liege = {
					#go for younger women first (want to have kids)
					random_courtier = {
						limit = {
							age = 16
							NOT = { age = 20 }
							NOT = { trait = eunuch }
							NOT = { trait = celibate }
							NOT = { trait = infirm }
							NOT = { trait = incapable }
							prisoner = no
							is_married = no
							is_betrothed = no
							is_consort = no
							can_marry = yes
							is_female = yes
							is_ruler = no
							is_primary_heir = no
							NOT = { has_global_flag = spouse_found }
							liege = { NOT = { is_close_relative = PREV } }
							NOT = { is_close_relative = ROOT }
						}
						add_spouse = ROOT
						set_global_flag = spouse_found
					}
					random_courtier = {
						limit = {
							age = 20
							NOT = { age = 30 }
							NOT = { trait = eunuch }
							NOT = { trait = celibate }
							NOT = { trait = infirm }
							NOT = { trait = incapable }
							prisoner = no
							is_married = no
							is_betrothed = no
							is_consort = no
							can_marry = yes
							is_female = yes
							is_ruler = no
							is_primary_heir = no
							NOT = { has_global_flag = spouse_found }
							liege = { NOT = { is_close_relative = PREV } }
							NOT = { is_close_relative = ROOT }
						}
						add_spouse = ROOT
						set_global_flag = spouse_found
					}
					if = {
						limit = {
							NOT = { has_global_flag = spouse_found }
						}
						liege = {
							create_character = {
								random_traits = yes
								dynasty = random
								female = yes
								age = 16
							}
							new_character = {
								add_spouse = ROOT
							}
						}
						set_global_flag = spouse_found
					}
				}
			}
			if = {
				limit = { is_ruler = yes }
				#go for younger women first (want to have kids)
				random_courtier = {
					limit = {
						age = 16
						NOT = { age = 20 }
						NOT = { trait = eunuch }
						NOT = { trait = celibate }
						NOT = { trait = infirm }
						NOT = { trait = incapable }
						prisoner = no
						is_married = no
						is_betrothed = no
						is_consort = no
						can_marry = yes
						is_female = yes
						is_ruler = no
						is_primary_heir = no
						NOT = { has_global_flag = spouse_found }
						NOT = { is_close_relative = ROOT }
					}
					add_spouse = ROOT
					set_global_flag = spouse_found
				}
				random_courtier = {
					limit = {
						age = 20
						NOT = { age = 30 }
						NOT = { trait = eunuch }
						NOT = { trait = celibate }
						NOT = { trait = infirm }
						NOT = { trait = incapable }
						prisoner = no
						is_married = no
						is_betrothed = no
						is_consort = no
						can_marry = yes
						is_female = yes
						is_ruler = no
						is_primary_heir = no
						NOT = { has_global_flag = spouse_found }
						NOT = { is_close_relative = ROOT }
					}
					add_spouse = ROOT
					set_global_flag = spouse_found
				}
				if = {
					limit = {
						NOT = { has_global_flag = spouse_found }
					}
					create_character = {
						random_traits = yes
						dynasty = random
						female = yes
						age = 16
					}
					new_character = {
						add_spouse = ROOT
					}
					set_global_flag = spouse_found
				}
			}
		}
		if = {
			limit = {
				is_female = yes
				is_ruler = yes
			}
			create_character = {
				random_traits = yes
				dynasty = random
				age = 20
			}
			new_character = {
				add_spouse_matrilineal = ROOT
			}
			set_global_flag = spouse_found
		}
		clr_global_flag = spouse_found
	}
}

# Remove claims
character_event = {
	id = 110050
	desc = "AI_EVENT"

	hide_window = yes
	is_triggered_only = yes

	trigger = {
		OR = {
			any_claim = { has_holder = no }
			AND = {
				is_female = yes
				is_ruler = no
				has_claim = d_aquitaine
			}
			AND = {
				is_female = yes
				is_ruler = no
				has_claim = d_poitou
			}
			AND = {
				is_female = yes
				is_ruler = no
				has_claim = k_norway
			}
			AND = {
				has_claim = k_germany
				NOT = { year = 900 }
			}
			AND = {
				has_claim = k_france
				NOT = { year = 900 }
			}
			AND = {
				has_claim = k_italy
				NOT = { year = 900 }
			}
			AND = {
				has_claim = k_bavaria
				NOT = { year = 900 }
			}
			AND = {
				has_claim = k_lotharingia
				NOT = { year = 900 }
			}
			AND = {
				has_claim = k_burgundy
				NOT = { year = 900 }
			}
		}
	}

	immediate = {
		if = {
			limit = { is_female = yes is_ruler = no has_claim = d_aquitaine }
			remove_claim = d_aquitaine
		}
		if = {
			limit = { is_female = yes is_ruler = no has_claim = d_poitou }
			remove_claim = d_poitou
		}
		if = {
			limit = { is_female = yes is_ruler = no has_claim = k_norway }
			remove_claim = k_norway
		}
		if = {
			limit = { is_female = yes has_claim = d_aquitaine }
			remove_claim = d_aquitaine
		}
		if = {
			limit = { NOT = { year = 900 } has_claim = k_germany }
			remove_claim = k_germany
		}
		if = {
			limit = { NOT = { year = 900 } has_claim = k_france }
			remove_claim = k_france
		}
		if = {
			limit = { NOT = { year = 900 } has_claim = k_burgundy }
			remove_claim = k_burgundy
		}
		if = {
			limit = { NOT = { year = 900 } has_claim = k_lotharingia }
			remove_claim = k_lotharingia
		}
		if = {
			limit = { NOT = { year = 900 } has_claim = k_italy }
			remove_claim = k_italy
		}
		if = {
			limit = { NOT = { year = 900 } has_claim = k_bavaria }
			remove_claim = k_bavaria
		}
		random_claim = {
			limit = { has_holder = no }
			remove_claim = ROOT
		}
		random_claim = {
			limit = { has_holder = no }
			remove_claim = ROOT
		}
		random_claim = {
			limit = { has_holder = no }
			remove_claim = ROOT
		}
		random_claim = {
			limit = { has_holder = no }
			remove_claim = ROOT
		}
		random_claim = {
			limit = { has_holder = no }
			remove_claim = ROOT
		}
		random_claim = {
			limit = { has_holder = no }
			remove_claim = ROOT
		}
		random_claim = {
			limit = { has_holder = no }
			remove_claim = ROOT
		}
		random_claim = {
			limit = { has_holder = no }
			remove_claim = ROOT
		}
		random_claim = {
			limit = { has_holder = no }
			remove_claim = ROOT
		}
		random_claim = {
			limit = { has_holder = no }
			remove_claim = ROOT
		}
		random_claim = {
			limit = { has_holder = no }
			remove_claim = ROOT
		}
		random_claim = {
			limit = { has_holder = no }
			remove_claim = ROOT
		}
		random_claim = {
			limit = { has_holder = no }
			remove_claim = ROOT
		}
	}

	option = {
		name = "OK"
	}
}

#Sanction for holy wars
character_event = {
	id = 110051
	desc = "EVTDESC110051"
	picture = GFX_evt_pope

	is_triggered_only = yes

	option = {
		name = "EVTOPTA110051"
		add_character_modifier = {
			name = "sanctioned_holy_war"
			duration = 730
		}
	}
}

character_event = {
	id = 110052
	desc = "EVTDESC110052"
	picture = GFX_evt_pope

	is_triggered_only = yes

	option = {
		name = "EVTOPTA110052"
	}
}

#AI employs debutante
character_event = {
	id = 110058
	is_triggered_only = yes
	only_rulers = yes
	trigger = {
		ai = yes
		NOT = { has_character_flag = employed_debutante }
		has_ambition = obj_find_lover
		is_female = no
		is_ruler = yes
		age = 16
		NOT = { religion_group = muslim }
		demesne_size = 1
		treasury = 5
	}

	desc = "AI_EVENT"

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = "OK"
		treasury = -5
		create_character = {
			random_traits = yes
			dynasty = random
			female = yes
			age = 16
		}
		new_character = {
			set_character_flag = debutante
		}
		set_character_flag = employed_debutante
	}
}

#Remove just
character_event = {
	id = 110059
	is_triggered_only = yes

	trigger = {
		trait = just
	}

	immediate = {
		remove_trait = just
	}

	desc = "EVTDESC110059"

	option = {
		name = "EVTOPTA110059"
		tooltip = { remove_trait = just }
	}
}

character_event = {
	id = 110063
	is_triggered_only = yes

	trigger = {
		trait = loyalist
		war = no
		OR = {
			independent = yes
			liege = { character = ROOT }
			liege = { war = no }
		}
	}

	mean_time_to_happen = {
		days = 1
	}

	desc = "EVTDESC110063"

	option = {
		name = "EVTOPTA110063"
		remove_trait = loyalist
	}
}

character_event = {
	id = 110064

	trigger = {
		trait = rebel
		war = no
		OR = {
			independent = yes
			liege = { character = ROOT }
			liege = { war = no }
		}
	}

	mean_time_to_happen = {
		days = 1
	}

	desc = "EVTDESC110064"

	option = {
		name = "EVTOPTA110064"
		remove_trait = rebel
		if = {
			limit = {
				any_playable_ruler = {
					NOT = { is_liege_of = ROOT }
					reverse_has_opinion_modifier = {
						who = ROOT
						modifier = revolting_against
					}
					higher_tier_than = ROOT
				}
			}
			random_playable_ruler = {
				limit = {
					NOT = { is_liege_of = ROOT }
					reverse_has_opinion_modifier = {
						who = ROOT
						modifier = revolting_against
					}
					higher_tier_than = ROOT
				}
				hidden_tooltip = {
					reverse_remove_opinion = {
						who = ROOT
						modifier = revolting_against
					}
				}
				ROOT = { set_defacto_liege = PREV }
			}
		}
	}
}

character_event = {
	id = 110069

	trigger = {
		war = no
		is_ruler = yes
		has_landed_title = e_latin_empire
		NOT = {
			OR = {
				religion = catholic
				is_heresy_of = catholic
			}
		}
	}

	desc = "EVTDESC110069"

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = "OK"
		if = {
			limit = {
				OR = {
					religion = orthodox
					is_heresy_of = orthodox
				}
				e_byzantium = { has_holder = no }
			}
			set_character_flag = centralize_without_penalties
			e_byzantium = {
				hidden_tooltip = {
					revoke_law = investiture_law_0
					revoke_law = investiture_law_1
					add_law = centralization_1
					add_law = city_tax_0
					add_law = temple_tax_0
					add_law = tax_privileges_1
					add_law = levy_privileges_1
					add_law = council_privileges_0
					add_law = feudal_tax_0
					add_law = succ_primogeniture
					add_law = cognatic_succession
				}
				gain_title = ROOT
			}
			clr_character_flag = centralize_without_penalties
		}
		e_latin_empire = {
			destroy_landed_title = yes
		}
		hidden_tooltip = {
			k_papal_state = { holder_scope = { character_event = { id = 110070 } } }
			any_vassal = {
				limit = { NOT = { has_character_flag = considered_for_independence } }
				character_event = { id = 2500000 days = 3 }
			}
		}
	}
}

#contingent territory flags
character_event = {
	id = 110070

	is_triggered_only = yes

	desc = "AI_EVENT"

	option = {
		name = "OK"
		any_playable_ruler = {
			any_demesne_title = {
				limit = { tier = count }
				location = { clr_province_flag = contingent_territory }
			}
		}
		capital_scope = { set_province_flag = contingent_territory }
		any_independent_ruler = {
			capital_scope = { set_province_flag = contingent_territory }
		}
		character_event = { id = 110071 }
	}
}

character_event = {
	id = 110071

	is_triggered_only = yes

	trigger = {
		any_playable_ruler = {
			any_demesne_province = {
				NOT = { has_province_flag = contingent_territory }
				any_neighbor_province = {
					owner = { OR = { character = PREVPREVPREV same_realm = PREVPREVPREV } }
					has_province_flag = contingent_territory
				}
			}
		}
	}

	desc = "AI_EVENT"

	option = {
		name = "OK"
		any_playable_ruler = {
			random_demesne_province = {
				limit = {
					NOT = { has_province_flag = contingent_territory }
					any_neighbor_province = {
						owner = { OR = { character = PREVPREVPREV same_realm = PREVPREVPREV } }
						has_province_flag = contingent_territory
					}
				}
				set_province_flag = contingent_territory
			}
		}
		character_event = { id = 110071 }
	}
}

character_event = {
	id = 110072

	is_triggered_only = yes

	trigger = {
		ai = yes
		is_ruler = yes
		tier = baron
		war = no
		independent = yes
	}

	desc = "AI_EVENT"

	mean_time_to_happen = { days = 1 }

	option = {
		name = "OK"
		primary_title = {
			location = {
				county = {
					holder_scope = {
						ROOT = {
							remove_opinion = {
								who = PREV
								modifier = opinion_independent
							}
							reverse_remove_opinion = {
								who = PREV
								modifier = opinion_independent
							}
							set_defacto_liege = PREV
						}
					}
				}
			}
		}
	}
}

#recalculate moods
character_event = {
	id = 110073

	is_triggered_only = yes

	desc = "AI_EVENT"

	option = {
		name = "OK"
		liege = {
			character_event = { id = 110033 }
			if = {
				limit = { trait = immortal2 }
				remove_trait = immortal2
				add_trait = immortal
			}
			if = {
				limit = {
					primary_title = { has_law = council_privileges_0 }
					has_character_flag = lifetime_appointments
				}
				clr_character_flag = lifetime_appointments
			}
			if = {
				limit = {
					primary_title = { has_law = council_privileges_1 }
					NOT = { has_character_flag = lifetime_appointments }
				}
				set_character_flag = lifetime_appointments
			}
			if = {
				limit = {
					primary_title = { has_law = levy_privileges_1 }
					has_character_flag = max_levies
				}
				clr_character_flag = max_levies
			}
			if = {
				limit = {
					primary_title = { has_law = levy_privileges_0 }
					NOT = { has_character_flag = max_levies }
				}
				set_character_flag = max_levies
			}
			if = {
				limit = {
					independent = yes
					OR = {
						has_character_modifier = tax_privileges_0_vassal
						has_character_modifier = tax_privileges_2_vassal
					}
				}
				remove_character_modifier = tax_privileges_0_vassal
				remove_character_modifier = tax_privileges_2_vassal
			}
			if = {
				limit = {
					primary_title = { has_law = tax_privileges_0 }
				}
				any_vassal = {
					limit = {
						OR = {
							NOT = { has_character_modifier = tax_privileges_0_vassal }
							has_character_modifier = tax_privileges_2_vassal
						}
					}
					add_character_modifier = { name = "tax_privileges_0_vassal" duration = -1 }
					remove_character_modifier = tax_privileges_2_vassal
				}
			}
			if = {
				limit = {
					primary_title = { has_law = tax_privileges_1 }
				}
				any_vassal = {
					limit = {
						OR = {
							has_character_modifier = tax_privileges_0_vassal
							has_character_modifier = tax_privileges_2_vassal
						}
					}
					remove_character_modifier = tax_privileges_0_vassal
					remove_character_modifier = tax_privileges_2_vassal
				}
			}
			if = {
				limit = {
					primary_title = { has_law = tax_privileges_2 }
				}
				any_vassal = {
					limit = {
						OR = {
							has_character_modifier = tax_privileges_0_vassal
							NOT = { has_character_modifier = tax_privileges_2_vassal }
						}
					}
					remove_character_modifier = tax_privileges_0_vassal
					add_character_modifier = { name = "tax_privileges_2_vassal" duration = -1 }
				}
			}
			#reset variables
			set_variable = { which = "total_faction_mood_feudal" value = 0 }
			set_variable = { which = "total_faction_mood_court" value = 0 }
			set_variable = { which = "total_faction_mood_republican" value = 0 }
			set_variable = { which = "total_faction_mood_religious" value = 0 }
			set_variable = { which = "faction_relations_feudal" value = 0 }
			set_variable = { which = "faction_relations_court" value = 0 }
			set_variable = { which = "faction_relations_republican" value = 0 }
			set_variable = { which = "faction_relations_religious" value = 0 }
			set_variable = { which = "faction_members_feudal" value = 0 }
			set_variable = { which = "faction_members_court" value = 0 }
			set_variable = { which = "faction_members_republican" value = 0 }
			set_variable = { which = "faction_members_religious" value = 0 }
			set_variable = { which = "rebel_power" value = 0 }
			#count members of each faction
			any_vassal = {
				limit = { OR = { higher_tier_than = baron is_patrician = yes } }
				if = {
					limit = {
						OR = {
							leads_faction = faction_feudal_emperor
							leads_faction = faction_feudal_king
							leads_faction = faction_feudal_duke
							in_faction = faction_feudal_emperor
							in_faction = faction_feudal_king
							in_faction = faction_feudal_duke
						}
					}
					liege = { change_variable = { which = "faction_members_feudal" value = 1 } }
				}
				if = {
					limit = {
						OR = {
							leads_faction = faction_court_emperor
							leads_faction = faction_court_king
							leads_faction = faction_court_duke
							in_faction = faction_court_emperor
							in_faction = faction_court_king
							in_faction = faction_court_duke
						}
					}
					liege = { change_variable = { which = "faction_members_court" value = 1 } }
				}
				if = {
					limit = {
						OR = {
							leads_faction = faction_republican_emperor
							leads_faction = faction_republican_king
							leads_faction = faction_republican_duke
							in_faction = faction_republican_emperor
							in_faction = faction_republican_king
							in_faction = faction_republican_duke
						}
					}
					liege = { change_variable = { which = "faction_members_republican" value = 1 } }
				}
				if = {
					limit = {
						OR = {
							leads_faction = faction_religious_emperor
							leads_faction = faction_religious_king
							leads_faction = faction_religious_duke
							in_faction = faction_religious_emperor
							in_faction = faction_religious_king
							in_faction = faction_religious_duke
						}
					}
					liege = { change_variable = { which = "faction_members_religious" value = 1 } }
				}
			}
			#faction moods
			any_vassal = {
				limit = {
					OR = { higher_tier_than = baron is_patrician = yes }
				}
				#feudal
				if = {
					limit = {
						OR = {
							leads_faction = faction_feudal_emperor
							leads_faction = faction_feudal_king
							leads_faction = faction_feudal_duke
							in_faction = faction_feudal_emperor
							in_faction = faction_feudal_king
							in_faction = faction_feudal_duke
						}
					}
					#relations
					if = {
						limit = {
							NOT = { opinion = { who = liege value = -75 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 1.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -2.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 2.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -1.25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 3.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -0.83 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 4.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -0.62 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 4.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 5.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -0.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 5.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 6.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -0.41 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 6.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 7.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -0.35 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -0.31 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -0.27 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 9.5 }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -0.25 } }
						}
					}
					if = {
						limit = {
							NOT = { opinion = { who = liege value = -50 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 1.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -2.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 2.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -1.25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 3.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -0.83 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 4.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -0.62 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 4.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 5.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -0.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 5.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 6.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -0.41 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 6.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 7.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -0.35 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -0.31 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -0.27 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 9.5 }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -0.25 } }
						}
					}
					if = {
						limit = {
							NOT = { opinion = { who = liege value = -25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 1.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -2.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 2.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -1.25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 3.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -0.83 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 4.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -0.62 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 4.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 5.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -0.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 5.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 6.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -0.41 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 6.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 7.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -0.35 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -0.31 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -0.27 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 9.5 }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -0.25 } }
						}
					}
					if = {
						limit = {
							NOT = { opinion = { who = liege value = 0 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 1.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -2.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 2.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -1.25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 3.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -0.83 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 4.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -0.62 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 4.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 5.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -0.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 5.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 6.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -0.41 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 6.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 7.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -0.35 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -0.31 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -0.27 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 9.5 }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = -0.25 } }
						}
					}
					if = {
						limit = {
							opinion = { who = liege value = 25 }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 1.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 2.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 2.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 1.25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 3.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 0.83 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 4.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 0.62 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 4.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 5.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 0.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 5.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 6.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 0.41 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 6.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 7.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 0.35 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 0.31 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 0.27 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 9.5 }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 0.25 } }
						}
					}
					if = {
						limit = {
							opinion = { who = liege value = 50 }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 1.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 2.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 2.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 1.25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 3.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 0.83 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 4.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 0.62 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 4.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 5.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 0.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 5.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 6.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 0.41 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 6.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 7.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 0.35 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 0.31 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 0.27 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 9.5 }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 0.25 } }
						}
					}
					if = {
						limit = {
							opinion = { who = liege value = 75 }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 1.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 2.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 2.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 1.25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 3.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 0.83 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 4.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 0.62 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 4.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 5.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 0.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 5.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 6.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 0.41 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 6.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 7.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 0.35 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 0.31 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 0.27 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 9.5 }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 0.25 } }
						}
					}
					if = {
						limit = {
							opinion = { who = liege value = 100 }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 1.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 2.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 2.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 1.25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 3.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 0.83 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 4.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 0.62 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 4.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 5.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 0.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 5.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 6.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 0.41 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 6.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 7.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 0.35 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 0.31 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_feudal" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 0.27 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_feudal" value = 9.5 }
								}
							}
							liege = { change_variable = { which = "faction_relations_feudal" value = 0.25 } }
						}
					}
				}
				#court
				if = {
					limit = {
						OR = {
							leads_faction = faction_court_emperor
							leads_faction = faction_court_king
							leads_faction = faction_court_duke
							in_faction = faction_court_emperor
							in_faction = faction_court_king
							in_faction = faction_court_duke
						}
					}
					#relations
					if = {
						limit = {
							NOT = { opinion = { who = liege value = -75 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -2.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -1.25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -0.83 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -0.62 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 4.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 5.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -0.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 5.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 6.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -0.41 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 6.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 7.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -0.35 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -0.31 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -0.27 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 9.5 }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -0.25 } }
						}
					}
					if = {
						limit = {
							NOT = { opinion = { who = liege value = -50 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -2.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -1.25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -0.83 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -0.62 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 4.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 5.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -0.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 5.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 6.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -0.41 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 6.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 7.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -0.35 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -0.31 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -0.27 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 9.5 }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -0.25 } }
						}
					}
					if = {
						limit = {
							NOT = { opinion = { who = liege value = -25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -2.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -1.25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -0.83 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -0.62 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 4.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 5.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -0.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 5.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 6.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -0.41 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 6.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 7.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -0.35 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -0.31 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -0.27 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 9.5 }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -0.25 } }
						}
					}
					if = {
						limit = {
							NOT = { opinion = { who = liege value = 0 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -2.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -1.25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -0.83 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -0.62 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 4.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 5.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -0.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 5.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 6.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -0.41 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 6.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 7.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -0.35 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -0.31 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -0.27 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 9.5 }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = -0.25 } }
						}
					}
					if = {
						limit = {
							opinion = { who = liege value = 25 }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 2.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 1.25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 0.83 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 0.62 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 4.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 5.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 0.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 5.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 6.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 0.41 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 6.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 7.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 0.35 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 0.31 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 0.27 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 9.5 }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 0.25 } }
						}
					}
					if = {
						limit = {
							opinion = { who = liege value = 50 }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 2.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 1.25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 0.83 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 0.62 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 4.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 5.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 0.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 5.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 6.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 0.41 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 6.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 7.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 0.35 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 0.31 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 0.27 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 9.5 }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 0.25 } }
						}
					}
					if = {
						limit = {
							opinion = { who = liege value = 75 }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 2.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 1.25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 0.83 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 0.62 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 4.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 5.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 0.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 5.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 6.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 0.41 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 6.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 7.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 0.35 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 0.31 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 0.27 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 9.5 }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 0.25 } }
						}
					}
					if = {
						limit = {
							opinion = { who = liege value = 100 }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 2.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 1.25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 0.83 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 0.62 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 4.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 5.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 0.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 5.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 6.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 0.41 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 6.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 7.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 0.35 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 0.31 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 0.27 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_court" value = 9.5 }
								}
							}
							liege = { change_variable = { which = "faction_relations_court" value = 0.25 } }
						}
					}
				}
				#republican
				if = {
					limit = {
						OR = {
							leads_faction = faction_republican_emperor
							leads_faction = faction_republican_king
							leads_faction = faction_republican_duke
							in_faction = faction_republican_emperor
							in_faction = faction_republican_king
							in_faction = faction_republican_duke
						}
					}
					#relations
					if = {
						limit = {
							NOT = { opinion = { who = liege value = -75 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 1.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -2.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 2.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -1.25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 3.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -0.83 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 4.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -0.62 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 4.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 5.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -0.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 5.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 6.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -0.41 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 6.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 7.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -0.35 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -0.31 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -0.27 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 9.5 }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -0.25 } }
						}
					}
					if = {
						limit = {
							NOT = { opinion = { who = liege value = -50 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 1.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -2.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 2.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -1.25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 3.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -0.83 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 4.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -0.62 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 4.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 5.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -0.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 5.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 6.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -0.41 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 6.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 7.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -0.35 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -0.31 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -0.27 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 9.5 }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -0.25 } }
						}
					}
					if = {
						limit = {
							NOT = { opinion = { who = liege value = -25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 1.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -2.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 2.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -1.25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 3.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -0.83 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 4.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -0.62 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 4.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 5.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -0.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 5.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 6.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -0.41 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 6.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 7.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -0.35 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -0.31 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -0.27 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 9.5 }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -0.25 } }
						}
					}
					if = {
						limit = {
							NOT = { opinion = { who = liege value = 0 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 1.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -2.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 2.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -1.25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 3.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -0.83 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 4.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -0.62 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 4.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 5.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -0.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 5.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 6.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -0.41 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 6.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 7.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -0.35 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -0.31 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -0.27 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 9.5 }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = -0.25 } }
						}
					}
					if = {
						limit = {
							opinion = { who = liege value = 25 }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 1.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 2.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 2.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 1.25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 3.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 0.83 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 4.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 0.62 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 4.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 5.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 0.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 5.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 6.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 0.41 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 6.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 7.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 0.35 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 0.31 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 0.27 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 9.5 }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 0.25 } }
						}
					}
					if = {
						limit = {
							opinion = { who = liege value = 50 }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 1.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 2.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 2.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 1.25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 3.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 0.83 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 4.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 0.62 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 4.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 5.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 0.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 5.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 6.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 0.41 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 6.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 7.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 0.35 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 0.31 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 0.27 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 9.5 }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 0.25 } }
						}
					}
					if = {
						limit = {
							opinion = { who = liege value = 75 }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 1.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 2.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 2.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 1.25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 3.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 0.83 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 4.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 0.62 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 4.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 5.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 0.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 5.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 6.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 0.41 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 6.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 7.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 0.35 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 0.31 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 0.27 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 9.5 }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 0.25 } }
						}
					}
					if = {
						limit = {
							opinion = { who = liege value = 100 }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 1.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 2.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 2.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 1.25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 3.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 0.83 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 4.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 0.62 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 4.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 5.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 0.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 5.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 6.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 0.41 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 6.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 7.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 0.35 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 0.31 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_republican" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 0.27 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_republican" value = 9.5 }
								}
							}
							liege = { change_variable = { which = "faction_relations_republican" value = 0.25 } }
						}
					}
				}
				#religious
				if = {
					limit = {
						OR = {
							leads_faction = faction_religious_emperor
							leads_faction = faction_religious_king
							leads_faction = faction_religious_duke
							in_faction = faction_religious_emperor
							in_faction = faction_religious_king
							in_faction = faction_religious_duke
						}
					}
					#relations
					if = {
						limit = {
							NOT = { opinion = { who = liege value = -75 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 1.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -2.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 2.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -1.25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 3.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -0.83 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 4.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -0.62 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 4.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 5.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -0.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 5.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 6.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -0.41 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 6.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 7.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -0.35 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -0.31 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -0.27 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 9.5 }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -0.25 } }
						}
					}
					if = {
						limit = {
							NOT = { opinion = { who = liege value = -50 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 1.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -2.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 2.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -1.25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 3.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -0.83 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 4.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -0.62 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 4.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 5.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -0.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 5.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 6.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -0.41 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 6.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 7.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -0.35 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -0.31 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -0.27 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 9.5 }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -0.25 } }
						}
					}
					if = {
						limit = {
							NOT = { opinion = { who = liege value = -25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 1.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -2.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 2.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -1.25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 3.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -0.83 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 4.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -0.62 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 4.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 5.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -0.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 5.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 6.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -0.41 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 6.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 7.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -0.35 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -0.31 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -0.27 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 9.5 }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -0.25 } }
						}
					}
					if = {
						limit = {
							NOT = { opinion = { who = liege value = 0 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 1.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -2.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 2.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -1.25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 3.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -0.83 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 4.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -0.62 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 4.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 5.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -0.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 5.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 6.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -0.41 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 6.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 7.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -0.35 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -0.31 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -0.27 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 9.5 }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = -0.25 } }
						}
					}
					if = {
						limit = {
							opinion = { who = liege value = 25 }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 1.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 2.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 2.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 1.25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 3.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 0.83 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 4.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 0.62 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 4.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 5.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 0.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 5.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 6.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 0.41 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 6.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 7.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 0.35 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 0.31 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 0.27 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 9.5 }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 0.25 } }
						}
					}
					if = {
						limit = {
							opinion = { who = liege value = 50 }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 1.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 2.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 2.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 1.25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 3.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 0.83 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 4.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 0.62 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 4.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 5.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 0.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 5.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 6.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 0.41 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 6.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 7.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 0.35 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 0.31 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 0.27 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 9.5 }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 0.25 } }
						}
					}
					if = {
						limit = {
							opinion = { who = liege value = 75 }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 1.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 2.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 2.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 1.25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 3.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 0.83 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 4.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 0.62 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 4.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 5.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 0.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 5.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 6.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 0.41 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 6.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 7.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 0.35 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 0.31 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 0.27 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 9.5 }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 0.25 } }
						}
					}
					if = {
						limit = {
							opinion = { who = liege value = 100 }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 1.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 2.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 2.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 1.25 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 3.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 0.83 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 4.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 0.62 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 4.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 5.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 0.5 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 5.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 6.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 0.41 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 6.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 7.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 0.35 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 0.31 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 7.5 }
									NOT = { check_variable = { which = "faction_members_religious" value = 8.5 } }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 0.27 } }
						}
						if = {
							limit = {
								liege = {
									check_variable = { which = "faction_members_religious" value = 9.5 }
								}
							}
							liege = { change_variable = { which = "faction_relations_religious" value = 0.25 } }
						}
					}
				}
			}
			any_vassal = {
				limit = {
					OR = { higher_tier_than = baron is_patrician = yes }
				}
				#feudal
				if = {
					limit = {
						OR = {
							leads_faction = faction_feudal_emperor
							leads_faction = faction_feudal_king
							leads_faction = faction_feudal_duke
						}
					}
					#regency
					if = {
						limit = {
							liege = { regent = { is_alive = yes } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
					}
					#demesne
					if = {
						limit = {
							liege = { NOT = { demesne_efficiency = 1.01 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = 0.5 } }
					}
					if = {
						limit = {
							liege = { demesne_efficiency = 2.00 }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = 0.5 } }
					}
					#laws
					if = {
						limit = {
							liege = { primary_title = { has_law = feudal_tax_1 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
					}
					if = {
						limit = {
							liege = { primary_title = { has_law = feudal_tax_2 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -2 } }
					}
					if = {
						limit = {
							liege = { primary_title = { has_law = tax_privileges_2 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = 1.5 } }
					}
					if = {
						limit = {
							liege = { primary_title = { has_law = tax_privileges_0 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -1.5 } }
					}
					if = {
						limit = {
							liege = { primary_title = { has_law = levy_privileges_0 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -2 } }
					}
					#CA
					if = {
						limit = {
							liege = { higher_tier_than = duke }
							primary_title = { crownlaw_title = { has_law = centralization_1 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -0.25 } }
					}
					if = {
						limit = {
							liege = { higher_tier_than = duke }
							primary_title = { crownlaw_title = { has_law = centralization_2 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -0.5 } }
					}
					if = {
						limit = {
							liege = { higher_tier_than = duke }
							primary_title = { crownlaw_title = { has_law = centralization_3 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
					}
					if = {
						limit = {
							liege = { higher_tier_than = duke }
							primary_title = { crownlaw_title = { has_law = centralization_4 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -2 } }
					}
					#relations
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_feudal" value = -9.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_feudal" value = -8.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_feudal" value = -7.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_feudal" value = -6.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_feudal" value = -5.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_feudal" value = -4.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_feudal" value = -3.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_feudal" value = -2.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_feudal" value = -1.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_feudal" value = -0.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_feudal" value = 0.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_feudal" value = 1.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_feudal" value = 2.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_feudal" value = 3.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_feudal" value = 4.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_feudal" value = 5.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_feudal" value = 6.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_feudal" value = 7.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_feudal" value = 8.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_feudal" value = 9.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
					}
					#special
					if = {
						limit = {
							liege = { ai = no has_global_flag = hardcore_mode }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
					}
					#cap moods
					if = {
						limit = {
							liege = { check_variable = { which = "total_faction_mood_feudal" value = 6 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "total_faction_mood_feudal" value = 6 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "total_faction_mood_feudal" value = 6 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "total_faction_mood_feudal" value = 6 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "total_faction_mood_feudal" value = 6 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "total_faction_mood_feudal" value = -6 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "total_faction_mood_feudal" value = -6 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "total_faction_mood_feudal" value = -6 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "total_faction_mood_feudal" value = -6 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "total_faction_mood_feudal" value = -6 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
					}
					#temporary moods
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_feudal" value = 0.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_feudal" value = 1.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_feudal" value = 2.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_feudal" value = 3.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_feudal" value = 4.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_feudal" value = 5.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_feudal" value = 6.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_feudal" value = 7.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_feudal" value = 8.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_feudal" value = 9.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = 1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_feudal" value = -0.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_feudal" value = -1.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_feudal" value = -2.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_feudal" value = -3.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_feudal" value = -4.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_feudal" value = -5.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_feudal" value = -6.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_feudal" value = -7.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_feudal" value = -8.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_feudal" value = -9.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_feudal" value = -1 } }
					}
				}
				#court
				if = {
					limit = {
						OR = {
							leads_faction = faction_court_emperor
							leads_faction = faction_court_king
							leads_faction = faction_court_duke
						}
					}
					#laws
					if = {
						limit = {
							liege = { primary_title = { has_law = council_privileges_1 } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = 2 } }
					}
					if = {
						limit = {
							liege = { primary_title = { has_law = tax_privileges_2 } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = 1.5 } }
					}
					if = {
						limit = {
							liege = { primary_title = { has_law = tax_privileges_0 } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = -1.5 } }
					}
					if = {
						limit = {
							liege = { primary_title = { has_law = levy_privileges_0 } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = -2 } }
					}
					#holds office
					liege = {
						if = {
							limit = {
								job_chancellor = {
									OR = {
										leads_faction = faction_court_emperor
										leads_faction = faction_court_king
										leads_faction = faction_court_duke
										in_faction = faction_court_emperor
										in_faction = faction_court_king
										in_faction = faction_court_duke
									}
								}
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = 1.0 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = 0.5 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = 0.33 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = 0.25 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 4.5 }
								}
								change_variable = { which = "total_faction_mood_court" value = 0.2 }
							}
						}
						if = {
							limit = {
								job_treasurer = {
									OR = {
										leads_faction = faction_court_emperor
										leads_faction = faction_court_king
										leads_faction = faction_court_duke
										in_faction = faction_court_emperor
										in_faction = faction_court_king
										in_faction = faction_court_duke
									}
								}
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = 1.0 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = 0.5 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = 0.33 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = 0.25 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 4.5 }
								}
								change_variable = { which = "total_faction_mood_court" value = 0.2 }
							}
						}
						if = {
							limit = {
								job_spymaster = {
									OR = {
										leads_faction = faction_court_emperor
										leads_faction = faction_court_king
										leads_faction = faction_court_duke
										in_faction = faction_court_emperor
										in_faction = faction_court_king
										in_faction = faction_court_duke
									}
								}
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = 1.0 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = 0.5 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = 0.33 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = 0.25 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 4.5 }
								}
								change_variable = { which = "total_faction_mood_court" value = 0.2 }
							}
						}
						if = {
							limit = {
								job_marshal = {
									OR = {
										leads_faction = faction_court_emperor
										leads_faction = faction_court_king
										leads_faction = faction_court_duke
										in_faction = faction_court_emperor
										in_faction = faction_court_king
										in_faction = faction_court_duke
									}
								}
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = 1.0 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = 0.5 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = 0.33 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = 0.25 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 4.5 }
								}
								change_variable = { which = "total_faction_mood_court" value = 0.2 }
							}
						}
						if = {
							limit = {
								job_spiritual = {
									OR = {
										leads_faction = faction_court_emperor
										leads_faction = faction_court_king
										leads_faction = faction_court_duke
										in_faction = faction_court_emperor
										in_faction = faction_court_king
										in_faction = faction_court_duke
									}
								}
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = 1.0 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = 0.5 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = 0.33 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = 0.25 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 4.5 }
								}
								change_variable = { which = "total_faction_mood_court" value = 0.2 }
							}
						}
						if = {
							limit = {
								ai = yes
								job_chancellor = {
									NOT = {
										leads_faction = faction_court_emperor
										leads_faction = faction_court_king
										leads_faction = faction_court_duke
										in_faction = faction_court_emperor
										in_faction = faction_court_king
										in_faction = faction_court_duke
									}
								}
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.05 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.1 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.15 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.2 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 4.5 }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.25 }
							}
						}
						if = {
							limit = {
								ai = yes
								job_treasurer = {
									NOT = {
										leads_faction = faction_court_emperor
										leads_faction = faction_court_king
										leads_faction = faction_court_duke
										in_faction = faction_court_emperor
										in_faction = faction_court_king
										in_faction = faction_court_duke
									}
								}
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.05 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.1 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.15 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.2 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 4.5 }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.25 }
							}
						}
						if = {
							limit = {
								ai = yes

								job_spymaster = {
									NOT = {
										leads_faction = faction_court_emperor
										leads_faction = faction_court_king
										leads_faction = faction_court_duke
										in_faction = faction_court_emperor
										in_faction = faction_court_king
										in_faction = faction_court_duke
									}
								}
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.05 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.1 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.15 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.2 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 4.5 }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.25 }
							}
						}
						if = {
							limit = {
								ai = yes
								job_marshal = {
									NOT = {
										leads_faction = faction_court_emperor
										leads_faction = faction_court_king
										leads_faction = faction_court_duke
										in_faction = faction_court_emperor
										in_faction = faction_court_king
										in_faction = faction_court_duke
									}
								}
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.05 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.1 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.15 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.2 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 4.5 }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.25 }
							}
						}
						if = {
							limit = {
								ai = yes
								job_spiritual = {
									NOT = {
										leads_faction = faction_court_emperor
										leads_faction = faction_court_king
										leads_faction = faction_court_duke
										in_faction = faction_court_emperor
										in_faction = faction_court_king
										in_faction = faction_court_duke
									}
								}
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.05 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.1 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.15 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.2 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 4.5 }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.25 }
							}
						}
						if = {
							limit = {
								ai = no
								job_chancellor = {
									NOT = {
										leads_faction = faction_court_emperor
										leads_faction = faction_court_king
										leads_faction = faction_court_duke
										in_faction = faction_court_emperor
										in_faction = faction_court_king
										in_faction = faction_court_duke
									}
								}
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.1 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.2 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.3 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.4 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 4.5 }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.5 }
							}
						}
						if = {
							limit = {
								ai = no
								job_treasurer = {
									NOT = {
										leads_faction = faction_court_emperor
										leads_faction = faction_court_king
										leads_faction = faction_court_duke
										in_faction = faction_court_emperor
										in_faction = faction_court_king
										in_faction = faction_court_duke
									}
								}
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.1 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.2 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.3 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.4 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 4.5 }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.5 }
							}
						}
						if = {
							limit = {
								ai = no

								job_spymaster = {
									NOT = {
										leads_faction = faction_court_emperor
										leads_faction = faction_court_king
										leads_faction = faction_court_duke
										in_faction = faction_court_emperor
										in_faction = faction_court_king
										in_faction = faction_court_duke
									}
								}
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.1 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.2 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.3 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.4 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 4.5 }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.5 }
							}
						}
						if = {
							limit = {
								ai = no
								job_marshal = {
									NOT = {
										leads_faction = faction_court_emperor
										leads_faction = faction_court_king
										leads_faction = faction_court_duke
										in_faction = faction_court_emperor
										in_faction = faction_court_king
										in_faction = faction_court_duke
									}
								}
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.1 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.2 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.3 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.4 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 4.5 }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.5 }
							}
						}
						if = {
							limit = {
								ai = no
								job_spiritual = {
									NOT = {
										leads_faction = faction_court_emperor
										leads_faction = faction_court_king
										leads_faction = faction_court_duke
										in_faction = faction_court_emperor
										in_faction = faction_court_king
										in_faction = faction_court_duke
									}
								}
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 0.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 1.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.1 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 1.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 2.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.2 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 2.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 3.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.3 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 3.5 }
									NOT = { check_variable = { which = "faction_members_court" value = 4.5 } }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.4 }
							}
							if = {
								limit = {
									check_variable = { which = "faction_members_court" value = 4.5 }
								}
								change_variable = { which = "total_faction_mood_court" value = -0.5 }
							}
						}
					}
					#relations
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_court" value = -9.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_court" value = -8.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_court" value = -7.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_court" value = -6.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_court" value = -5.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_court" value = -4.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_court" value = -3.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_court" value = -2.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_court" value = -1.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_court" value = -0.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_court" value = 0.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_court" value = 1.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_court" value = 2.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_court" value = 3.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_court" value = 4.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_court" value = 5.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_court" value = 6.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_court" value = 7.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_court" value = 8.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_court" value = 9.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
					}
					#special
					if = {
						limit = {
							liege = { ai = no has_global_flag = hardcore_mode }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
					}
					#cap moods
					if = {
						limit = {
							liege = { check_variable = { which = "total_faction_mood_court" value = 6 } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "total_faction_mood_court" value = 6 } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "total_faction_mood_court" value = 6 } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "total_faction_mood_court" value = 6 } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "total_faction_mood_court" value = 6 } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "total_faction_mood_court" value = -6 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "total_faction_mood_court" value = -6 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "total_faction_mood_court" value = -6 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "total_faction_mood_court" value = -6 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "total_faction_mood_court" value = -6 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
					}
					#temporary moods
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_court" value = 0.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_court" value = 1.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_court" value = 2.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_court" value = 3.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_court" value = 4.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_court" value = 5.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_court" value = 6.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_court" value = 7.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_court" value = 8.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_court" value = 9.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = 1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_court" value = -0.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_court" value = -1.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_court" value = -2.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_court" value = -3.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_court" value = -4.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_court" value = -5.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_court" value = -6.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_court" value = -7.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_court" value = -8.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_court" value = -9.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_court" value = -1 } }
					}
				}
				#republican
				if = {
					limit = {
						OR = {
							leads_faction = faction_republican_emperor
							leads_faction = faction_republican_king
							leads_faction = faction_republican_duke
						}
					}
					#regency
					if = {
						limit = {
							liege = { regent = { is_alive = yes } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
					}
					#laws
					if = {
						limit = {
							liege = { primary_title = { has_law = city_tax_1 } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
					}
					if = {
						limit = {
							liege = { primary_title = { has_law = city_tax_2 } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = -2 } }
					}
					if = {
						limit = {
							liege = { primary_title = { has_law = tax_privileges_2 } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = 1.5 } }
					}
					if = {
						limit = {
							liege = { primary_title = { has_law = tax_privileges_0 } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = -1.5 } }
					}
					if = {
						limit = {
							liege = { primary_title = { has_law = levy_privileges_0 } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
					}
					#relations
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_republican" value = -9.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_republican" value = -8.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_republican" value = -7.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_republican" value = -6.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_republican" value = -5.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_republican" value = -4.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_republican" value = -3.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_republican" value = -2.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_republican" value = -1.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_republican" value = -0.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_republican" value = 0.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_republican" value = 1.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_republican" value = 2.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_republican" value = 3.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_republican" value = 4.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_republican" value = 5.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_republican" value = 6.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_republican" value = 7.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_republican" value = 8.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_republican" value = 9.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
					}
					#special
					if = {
						limit = {
							liege = { ai = no has_global_flag = hardcore_mode }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
					}
					#cap moods
					if = {
						limit = {
							liege = { check_variable = { which = "total_faction_mood_republican" value = 6 } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "total_faction_mood_republican" value = 6 } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "total_faction_mood_republican" value = 6 } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "total_faction_mood_republican" value = 6 } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "total_faction_mood_republican" value = 6 } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "total_faction_mood_republican" value = -6 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "total_faction_mood_republican" value = -6 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "total_faction_mood_republican" value = -6 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "total_faction_mood_republican" value = -6 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "total_faction_mood_republican" value = -6 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
					}
					#temporary moods
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_republican" value = 0.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_republican" value = 1.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_republican" value = 2.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_republican" value = 3.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_republican" value = 4.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_republican" value = 5.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_republican" value = 6.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_republican" value = 7.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_republican" value = 8.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_republican" value = 9.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = 1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_republican" value = -0.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_republican" value = -1.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_republican" value = -2.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_republican" value = -3.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_republican" value = -4.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_republican" value = -5.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_republican" value = -6.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_republican" value = -7.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_republican" value = -8.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_republican" value = -9.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_republican" value = -1 } }
					}
				}
				#religious
				if = {
					limit = {
						OR = {
							leads_faction = faction_religious_emperor
							leads_faction = faction_religious_king
							leads_faction = faction_religious_duke
						}
					}
					#investiture
					if = {
						limit = {
							liege = { higher_tier_than = duke }
							primary_title = { crownlaw_title = { has_law = investiture_law_1 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
					#CA
					if = {
						limit = {
							liege = { higher_tier_than = duke }
							primary_title = { crownlaw_title = { has_law = centralization_1 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -0.1 } }
					}
					if = {
						limit = {
							liege = { higher_tier_than = duke }
							primary_title = { crownlaw_title = { has_law = centralization_2 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -0.25 } }
					}
					if = {
						limit = {
							liege = { higher_tier_than = duke }
							primary_title = { crownlaw_title = { has_law = centralization_3 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -0.5 } }
					}
					if = {
						limit = {
							liege = { higher_tier_than = duke }
							primary_title = { crownlaw_title = { has_law = centralization_4 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -0.5 } }
					}
					#excommunicated
					if = {
						limit = {
							liege = { trait = excommunicated }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -5 } }
					}
					#laws
					if = {
						limit = {
							liege = { primary_title = { has_law = temple_tax_1 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
					if = {
						limit = {
							liege = { primary_title = { has_law = temple_tax_2 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -2 } }
					}
					if = {
						limit = {
							liege = { primary_title = { has_law = tax_privileges_2 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = 1.5 } }
					}
					if = {
						limit = {
							liege = { primary_title = { has_law = tax_privileges_0 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1.5 } }
					}
					if = {
						limit = {
							liege = { primary_title = { has_law = levy_privileges_0 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
					#piety
					if = {
						limit = {
							liege = { NOT = { piety = -250 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { piety = -100 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { piety = 0 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { piety = 100 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
					if = {
						limit = {
							liege = { piety = 250 }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
					}
					if = {
						limit = {
							liege = { piety = 500 }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
					}
					if = {
						limit = {
							liege = { piety = 750 }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
					}
					if = {
						limit = {
							liege = { piety = 1000 }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
					}
					#relations
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_religious" value = -9.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_religious" value = -8.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_religious" value = -7.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_religious" value = -6.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_religious" value = -5.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_religious" value = -4.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_religious" value = -3.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_religious" value = -2.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_religious" value = -1.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_relations_religious" value = -0.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_religious" value = 0.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_religious" value = 1.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_religious" value = 2.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_religious" value = 3.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_religious" value = 4.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_religious" value = 5.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_religious" value = 6.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_religious" value = 7.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_religious" value = 8.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_relations_religious" value = 9.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
					}
					#special
					if = {
						limit = {
							liege = { ai = no has_global_flag = hardcore_mode }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
					#cap moods
					if = {
						limit = {
							liege = { check_variable = { which = "total_faction_mood_religious" value = 6 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "total_faction_mood_religious" value = 6 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "total_faction_mood_religious" value = 6 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "total_faction_mood_religious" value = 6 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "total_faction_mood_religious" value = 6 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "total_faction_mood_religious" value = -6 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "total_faction_mood_religious" value = -6 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "total_faction_mood_religious" value = -6 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "total_faction_mood_religious" value = -6 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "total_faction_mood_religious" value = -6 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
					}
					#temporary moods
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_religious" value = 0.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_religious" value = 1.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_religious" value = 2.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_religious" value = 3.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_religious" value = 4.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_religious" value = 5.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_religious" value = 6.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_religious" value = 7.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_religious" value = 8.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
					}
					if = {
						limit = {
							liege = { check_variable = { which = "faction_mood_religious" value = 9.5 } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = 1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_religious" value = -0.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_religious" value = -1.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_religious" value = -2.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_religious" value = -3.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_religious" value = -4.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_religious" value = -5.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_religious" value = -6.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_religious" value = -7.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_religious" value = -8.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
					if = {
						limit = {
							liege = { NOT = { check_variable = { which = "faction_mood_religious" value = -9.5 } } }
						}
						liege = { change_variable = { which = "total_faction_mood_religious" value = -1 } }
					}
				}
			}
			#calculate moods
			any_vassal = {
				limit = {
					OR = { higher_tier_than = baron is_patrician = yes }
				}
				if = {
					limit = {
						OR = {
							leads_faction = faction_feudal_emperor
							leads_faction = faction_feudal_king
							leads_faction = faction_feudal_duke
						}
					}
					if = {
						limit = {
							liege = {
								check_variable = { which = "total_faction_mood_feudal" value = 4.00 }
								NOT = { has_character_flag = faction_feudal_happy }
							}
						}
						liege = {
							set_character_flag = faction_feudal_happy
							clr_character_flag = faction_feudal_unhappy
							clr_character_flag = faction_feudal_angry
						}
						character_event = { id = 1900000 }
					}
					if = {
						limit = {
							liege = {
								check_variable = { which = "total_faction_mood_feudal" value = -1.00 }
								NOT = { check_variable = { which = "total_faction_mood_feudal" value = 4.001 } }
								OR = {
									has_character_flag = faction_feudal_happy
									has_character_flag = faction_feudal_unhappy
									has_character_flag = faction_feudal_angry
								}
							}
						}
						liege = {
							clr_character_flag = faction_feudal_happy
							clr_character_flag = faction_feudal_unhappy
							clr_character_flag = faction_feudal_angry
						}
						character_event = { id = 1900002 }
					}
					if = {
						limit = {
							liege = {
								check_variable = { which = "total_faction_mood_feudal" value = -4.00 }
								NOT = { check_variable = { which = "total_faction_mood_feudal" value = -1.001 } }
								NOT = { has_character_flag = faction_feudal_unhappy }
							}
						}
						liege = {
							clr_character_flag = faction_feudal_happy
							set_character_flag = faction_feudal_unhappy
							clr_character_flag = faction_feudal_angry
						}
						character_event = { id = 1900004 }
					}
					if = {
						limit = {
							liege = {
								NOT = { check_variable = { which = "total_faction_mood_feudal" value = -4.001 } }
								NOT = { has_character_flag = faction_feudal_angry }
							}
						}
						liege = {
							clr_character_flag = faction_feudal_happy
							clr_character_flag = faction_feudal_unhappy
							set_character_flag = faction_feudal_angry
						}
						character_event = { id = 1900006 }
					}
				}
				if = {
					limit = {
						OR = {
							leads_faction = faction_republican_emperor
							leads_faction = faction_republican_king
							leads_faction = faction_republican_duke
						}
					}
					if = {
						limit = {
							liege = {
								check_variable = { which = "total_faction_mood_republican" value = 4.00 }
								NOT = { has_character_flag = faction_republican_happy }
							}
						}
						liege = {
							set_character_flag = faction_republican_happy
							clr_character_flag = faction_republican_unhappy
							clr_character_flag = faction_republican_angry
						}
						character_event = { id = 1900008 }
					}
					if = {
						limit = {
							liege = {
								check_variable = { which = "total_faction_mood_republican" value = -1.00 }
								NOT = { check_variable = { which = "total_faction_mood_republican" value = 4.001 } }
								OR = {
									has_character_flag = faction_republican_happy
									has_character_flag = faction_republican_unhappy
									has_character_flag = faction_republican_angry
								}
							}
						}
						liege = {
							clr_character_flag = faction_republican_happy
							clr_character_flag = faction_republican_unhappy
							clr_character_flag = faction_republican_angry
						}
						character_event = { id = 1900010 }
					}
					if = {
						limit = {
							liege = {
								check_variable = { which = "total_faction_mood_republican" value = -4.00 }
								NOT = { check_variable = { which = "total_faction_mood_republican" value = -1.001 } }
								NOT = { has_character_flag = faction_republican_unhappy }
							}
						}
						liege = {
							clr_character_flag = faction_republican_happy
							set_character_flag = faction_republican_unhappy
							clr_character_flag = faction_republican_angry
						}
						character_event = { id = 1900012 }
					}
					if = {
						limit = {
							liege = {
								NOT = { check_variable = { which = "total_faction_mood_republican" value = -4.001 } }
								NOT = { has_character_flag = faction_republican_angry }
							}
						}
						liege = {
							clr_character_flag = faction_republican_happy
							clr_character_flag = faction_republican_unhappy
							set_character_flag = faction_republican_angry
						}
						character_event = { id = 1900014 }
					}
				}
				if = {
					limit = {
						OR = {
							leads_faction = faction_religious_emperor
							leads_faction = faction_religious_king
							leads_faction = faction_religious_duke
						}
					}
					if = {
						limit = {
							liege = {
								check_variable = { which = "total_faction_mood_religious" value = 4.00 }
								NOT = { has_character_flag = faction_religious_happy }
							}
						}
						liege = {
							set_character_flag = faction_religious_happy
							clr_character_flag = faction_religious_unhappy
							clr_character_flag = faction_religious_angry
						}
						character_event = { id = 1900016 }
					}
					if = {
						limit = {
							liege = {
								check_variable = { which = "total_faction_mood_religious" value = -1.00 }
								NOT = { check_variable = { which = "total_faction_mood_religious" value = 4.001 } }
								OR = {
									has_character_flag = faction_religious_happy
									has_character_flag = faction_religious_unhappy
									has_character_flag = faction_religious_angry
								}
							}
						}
						liege = {
							clr_character_flag = faction_religious_happy
							clr_character_flag = faction_religious_unhappy
							clr_character_flag = faction_religious_angry
						}
						character_event = { id = 1900018 }
					}
					if = {
						limit = {
							liege = {
								check_variable = { which = "total_faction_mood_religious" value = -4.00 }
								NOT = { check_variable = { which = "total_faction_mood_religious" value = -1.001 } }
								NOT = { has_character_flag = faction_religious_unhappy }
							}
						}
						liege = {
							clr_character_flag = faction_religious_happy
							set_character_flag = faction_religious_unhappy
							clr_character_flag = faction_religious_angry
						}
						character_event = { id = 1900020 }
					}
					if = {
						limit = {
							liege = {
								NOT = { check_variable = { which = "total_faction_mood_religious" value = -4.001 } }
								NOT = { has_character_flag = faction_religious_angry }
							}
						}
						liege = {
							clr_character_flag = faction_religious_happy
							clr_character_flag = faction_religious_unhappy
							set_character_flag = faction_religious_angry
						}
						character_event = { id = 1900022 }
					}
				}
				if = {
					limit = {
						OR = {
							leads_faction = faction_court_emperor
							leads_faction = faction_court_king
							leads_faction = faction_court_duke
						}
					}
					if = {
						limit = {
							liege = {
								check_variable = { which = "total_faction_mood_court" value = 4.00 }
								NOT = { has_character_flag = faction_court_happy }
							}
						}
						liege = {
							set_character_flag = faction_court_happy
							clr_character_flag = faction_court_unhappy
							clr_character_flag = faction_court_angry
						}
						character_event = { id = 1900024 }
					}
					if = {
						limit = {
							liege = {
								check_variable = { which = "total_faction_mood_court" value = -1.00 }
								NOT = { check_variable = { which = "total_faction_mood_court" value = 4.001 } }
								OR = {
									has_character_flag = faction_court_happy
									has_character_flag = faction_court_unhappy
									has_character_flag = faction_court_angry
								}
							}
						}
						liege = {
							clr_character_flag = faction_court_happy
							clr_character_flag = faction_court_unhappy
							clr_character_flag = faction_court_angry
						}
						character_event = { id = 1900026 }
					}
					if = {
						limit = {
							liege = {
								check_variable = { which = "total_faction_mood_court" value = -4.00 }
								NOT = { check_variable = { which = "total_faction_mood_court" value = -1.001 } }
								NOT = { has_character_flag = faction_court_unhappy }
							}
						}
						liege = {
							clr_character_flag = faction_court_happy
							set_character_flag = faction_court_unhappy
							clr_character_flag = faction_court_angry
						}
						character_event = { id = 1900028 }
					}
					if = {
						limit = {
							liege = {
								NOT = { check_variable = { which = "total_faction_mood_court" value = -4.001 } }
								NOT = { has_character_flag = faction_court_angry }
							}
						}
						liege = {
							clr_character_flag = faction_court_happy
							clr_character_flag = faction_court_unhappy
							set_character_flag = faction_court_angry
						}
						character_event = { id = 1900030 }
					}
				}
			}
			# feudal faction power
			if = {
				limit = {
					any_vassal = {
						OR = {
							AND = {
								leads_faction = faction_feudal_emperor
								faction_power =
								{
									faction = faction_feudal_emperor
									power = 0.25
								}
							}
							AND = {
								leads_faction = faction_feudal_king
								faction_power =
								{
									faction = faction_feudal_king
									power = 0.25
								}
							}
							AND = {
								leads_faction = faction_feudal_duke
								faction_power =
								{
									faction = faction_feudal_duke
									power = 0.25
								}
							}
						}
					}
				}
				if = {
					limit = { has_character_flag = faction_feudal_unhappy }
					change_variable = { which = "rebel_power" value = 0.125 }
				}
				if = {
					limit = { has_character_flag = faction_feudal_angry }
					change_variable = { which = "rebel_power" value = 0.25 }
				}
			}
			if = {
				limit = {
					any_vassal = {
						OR = {
							AND = {
								leads_faction = faction_feudal_emperor
								faction_power =
								{
									faction = faction_feudal_emperor
									power = 0.5
								}
							}
							AND = {
								leads_faction = faction_feudal_king
								faction_power =
								{
									faction = faction_feudal_king
									power = 0.5
								}
							}
							AND = {
								leads_faction = faction_feudal_duke
								faction_power =
								{
									faction = faction_feudal_duke
									power = 0.5
								}
							}
						}
					}
				}
				if = {
					limit = { has_character_flag = faction_feudal_unhappy }
					change_variable = { which = "rebel_power" value = 0.125 }
				}
				if = {
					limit = { has_character_flag = faction_feudal_angry }
					change_variable = { which = "rebel_power" value = 0.25 }
				}
			}
			if = {
				limit = {
					any_vassal = {
						OR = {
							AND = {
								leads_faction = faction_feudal_emperor
								faction_power =
								{
									faction = faction_feudal_emperor
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_feudal_king
								faction_power =
								{
									faction = faction_feudal_king
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_feudal_duke
								faction_power =
								{
									faction = faction_feudal_duke
									power = 1.0
								}
							}
						}
					}
				}
				if = {
					limit = { has_character_flag = faction_feudal_unhappy }
					change_variable = { which = "rebel_power" value = 0.25 }
				}
				if = {
					limit = { has_character_flag = faction_feudal_angry }
					change_variable = { which = "rebel_power" value = 0.5 }
				}
			}
			if = {
				limit = {
					any_vassal = {
						OR = {
							AND = {
								leads_faction = faction_feudal_emperor
								faction_power =
								{
									faction = faction_feudal_emperor
									power = 1.5
								}
							}
							AND = {
								leads_faction = faction_feudal_king
								faction_power =
								{
									faction = faction_feudal_king
									power = 1.5
								}
							}
							AND = {
								leads_faction = faction_feudal_duke
								faction_power =
								{
									faction = faction_feudal_duke
									power = 1.5
								}
							}
						}
					}
				}
				if = {
					limit = { has_character_flag = faction_feudal_unhappy }
					change_variable = { which = "rebel_power" value = 0.25 }
				}
				if = {
					limit = { has_character_flag = faction_feudal_angry }
					change_variable = { which = "rebel_power" value = 0.5 }
				}
			}
			if = {
				limit = {
					any_vassal = {
						OR = {
							AND = {
								leads_faction = faction_feudal_emperor
								faction_power =
								{
									faction = faction_feudal_emperor
									power = 2.0
								}
							}
							AND = {
								leads_faction = faction_feudal_king
								faction_power =
								{
									faction = faction_feudal_king
									power = 2.0
								}
							}
							AND = {
								leads_faction = faction_feudal_duke
								faction_power =
								{
									faction = faction_feudal_duke
									power = 2.0
								}
							}
						}
					}
				}
				if = {
					limit = { has_character_flag = faction_feudal_unhappy }
					change_variable = { which = "rebel_power" value = 0.25 }
				}
				if = {
					limit = { has_character_flag = faction_feudal_angry }
					change_variable = { which = "rebel_power" value = 0.5 }
				}
			}
			if = {
				limit = {
					any_vassal = {
						OR = {
							AND = {
								leads_faction = faction_feudal_emperor
								faction_power =
								{
									faction = faction_feudal_emperor
									power = 2.5
								}
							}
							AND = {
								leads_faction = faction_feudal_king
								faction_power =
								{
									faction = faction_feudal_king
									power = 2.5
								}
							}
							AND = {
								leads_faction = faction_feudal_duke
								faction_power =
								{
									faction = faction_feudal_duke
									power = 2.5
								}
							}
						}
					}
				}
				if = {
					limit = { has_character_flag = faction_feudal_unhappy }
					change_variable = { which = "rebel_power" value = 0.25 }
				}
				if = {
					limit = { has_character_flag = faction_feudal_angry }
					change_variable = { which = "rebel_power" value = 0.5 }
				}
			}
			if = {
				limit = {
					any_vassal = {
						OR = {
							AND = {
								leads_faction = faction_feudal_emperor
								faction_power =
								{
									faction = faction_feudal_emperor
									power = 3.0
								}
							}
							AND = {
								leads_faction = faction_feudal_king
								faction_power =
								{
									faction = faction_feudal_king
									power = 3.0
								}
							}
							AND = {
								leads_faction = faction_feudal_duke
								faction_power =
								{
									faction = faction_feudal_duke
									power = 3.0
								}
							}
						}
					}
				}
				if = {
					limit = { has_character_flag = faction_feudal_unhappy }
					change_variable = { which = "rebel_power" value = 0.25 }
				}
				if = {
					limit = { has_character_flag = faction_feudal_angry }
					change_variable = { which = "rebel_power" value = 0.5 }
				}
			}

			# court faction power
			if = {
				limit = {
					any_vassal = {
						OR = {
							AND = {
								leads_faction = faction_court_emperor
								faction_power =
								{
									faction = faction_court_emperor
									power = 0.25
								}
							}
							AND = {
								leads_faction = faction_court_king
								faction_power =
								{
									faction = faction_court_king
									power = 0.25
								}
							}
							AND = {
								leads_faction = faction_court_duke
								faction_power =
								{
									faction = faction_court_duke
									power = 0.25
								}
							}
						}
					}
				}
				if = {
					limit = { has_character_flag = faction_court_unhappy }
					change_variable = { which = "rebel_power" value = 0.125 }
				}
				if = {
					limit = { has_character_flag = faction_court_angry }
					change_variable = { which = "rebel_power" value = 0.25 }
				}
			}
			if = {
				limit = {
					any_vassal = {
						OR = {
							AND = {
								leads_faction = faction_court_emperor
								faction_power =
								{
									faction = faction_court_emperor
									power = 0.5
								}
							}
							AND = {
								leads_faction = faction_court_king
								faction_power =
								{
									faction = faction_court_king
									power = 0.5
								}
							}
							AND = {
								leads_faction = faction_court_duke
								faction_power =
								{
									faction = faction_court_duke
									power = 0.5
								}
							}
						}
					}
				}
				if = {
					limit = { has_character_flag = faction_court_unhappy }
					change_variable = { which = "rebel_power" value = 0.125 }
				}
				if = {
					limit = { has_character_flag = faction_court_angry }
					change_variable = { which = "rebel_power" value = 0.25 }
				}
			}
			if = {
				limit = {
					any_vassal = {
						OR = {
							AND = {
								leads_faction = faction_court_emperor
								faction_power =
								{
									faction = faction_court_emperor
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_court_king
								faction_power =
								{
									faction = faction_court_king
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_court_duke
								faction_power =
								{
									faction = faction_court_duke
									power = 1.0
								}
							}
						}
					}
				}
				if = {
					limit = { has_character_flag = faction_court_unhappy }
					change_variable = { which = "rebel_power" value = 0.25 }
				}
				if = {
					limit = { has_character_flag = faction_court_angry }
					change_variable = { which = "rebel_power" value = 0.5 }
				}
			}
			if = {
				limit = {
					any_vassal = {
						OR = {
							AND = {
								leads_faction = faction_court_emperor
								faction_power =
								{
									faction = faction_court_emperor
									power = 1.5
								}
							}
							AND = {
								leads_faction = faction_court_king
								faction_power =
								{
									faction = faction_court_king
									power = 1.5
								}
							}
							AND = {
								leads_faction = faction_court_duke
								faction_power =
								{
									faction = faction_court_duke
									power = 1.5
								}
							}
						}
					}
				}
				if = {
					limit = { has_character_flag = faction_court_unhappy }
					change_variable = { which = "rebel_power" value = 0.25 }
				}
				if = {
					limit = { has_character_flag = faction_court_angry }
					change_variable = { which = "rebel_power" value = 0.5 }
				}
			}
			if = {
				limit = {
					any_vassal = {
						OR = {
							AND = {
								leads_faction = faction_court_emperor
								faction_power =
								{
									faction = faction_court_emperor
									power = 2.0
								}
							}
							AND = {
								leads_faction = faction_court_king
								faction_power =
								{
									faction = faction_court_king
									power = 2.0
								}
							}
							AND = {
								leads_faction = faction_court_duke
								faction_power =
								{
									faction = faction_court_duke
									power = 2.0
								}
							}
						}
					}
				}
				if = {
					limit = { has_character_flag = faction_court_unhappy }
					change_variable = { which = "rebel_power" value = 0.25 }
				}
				if = {
					limit = { has_character_flag = faction_court_angry }
					change_variable = { which = "rebel_power" value = 0.5 }
				}
			}
			if = {
				limit = {
					any_vassal = {
						OR = {
							AND = {
								leads_faction = faction_court_emperor
								faction_power =
								{
									faction = faction_court_emperor
									power = 2.5
								}
							}
							AND = {
								leads_faction = faction_court_king
								faction_power =
								{
									faction = faction_court_king
									power = 2.5
								}
							}
							AND = {
								leads_faction = faction_court_duke
								faction_power =
								{
									faction = faction_court_duke
									power = 2.5
								}
							}
						}
					}
				}
				if = {
					limit = { has_character_flag = faction_court_unhappy }
					change_variable = { which = "rebel_power" value = 0.25 }
				}
				if = {
					limit = { has_character_flag = faction_court_angry }
					change_variable = { which = "rebel_power" value = 0.5 }
				}
			}
			if = {
				limit = {
					any_vassal = {
						OR = {
							AND = {
								leads_faction = faction_court_emperor
								faction_power =
								{
									faction = faction_court_emperor
									power = 3.0
								}
							}
							AND = {
								leads_faction = faction_court_king
								faction_power =
								{
									faction = faction_court_king
									power = 3.0
								}
							}
							AND = {
								leads_faction = faction_court_duke
								faction_power =
								{
									faction = faction_court_duke
									power = 3.0
								}
							}
						}
					}
				}
				if = {
					limit = { has_character_flag = faction_court_unhappy }
					change_variable = { which = "rebel_power" value = 0.25 }
				}
				if = {
					limit = { has_character_flag = faction_court_angry }
					change_variable = { which = "rebel_power" value = 0.5 }
				}
			}

			# republican faction power
			if = {
				limit = {
					any_vassal = {
						OR = {
							AND = {
								leads_faction = faction_republican_emperor
								faction_power =
								{
									faction = faction_republican_emperor
									power = 0.25
								}
							}
							AND = {
								leads_faction = faction_republican_king
								faction_power =
								{
									faction = faction_republican_king
									power = 0.25
								}
							}
							AND = {
								leads_faction = faction_republican_duke
								faction_power =
								{
									faction = faction_republican_duke
									power = 0.25
								}
							}
						}
					}
				}
				if = {
					limit = { has_character_flag = faction_republican_unhappy }
					change_variable = { which = "rebel_power" value = 0.125 }
				}
				if = {
					limit = { has_character_flag = faction_republican_angry }
					change_variable = { which = "rebel_power" value = 0.25 }
				}
			}
			if = {
				limit = {
					any_vassal = {
						OR = {
							AND = {
								leads_faction = faction_republican_emperor
								faction_power =
								{
									faction = faction_republican_emperor
									power = 0.5
								}
							}
							AND = {
								leads_faction = faction_republican_king
								faction_power =
								{
									faction = faction_republican_king
									power = 0.5
								}
							}
							AND = {
								leads_faction = faction_republican_duke
								faction_power =
								{
									faction = faction_republican_duke
									power = 0.5
								}
							}
						}
					}
				}
				if = {
					limit = { has_character_flag = faction_republican_unhappy }
					change_variable = { which = "rebel_power" value = 0.125 }
				}
				if = {
					limit = { has_character_flag = faction_republican_angry }
					change_variable = { which = "rebel_power" value = 0.25 }
				}
			}
			if = {
				limit = {
					any_vassal = {
						OR = {
							AND = {
								leads_faction = faction_republican_emperor
								faction_power =
								{
									faction = faction_republican_emperor
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_republican_king
								faction_power =
								{
									faction = faction_republican_king
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_republican_duke
								faction_power =
								{
									faction = faction_republican_duke
									power = 1.0
								}
							}
						}
					}
				}
				if = {
					limit = { has_character_flag = faction_republican_unhappy }
					change_variable = { which = "rebel_power" value = 0.25 }
				}
				if = {
					limit = { has_character_flag = faction_republican_angry }
					change_variable = { which = "rebel_power" value = 0.5 }
				}
			}
			if = {
				limit = {
					any_vassal = {
						OR = {
							AND = {
								leads_faction = faction_republican_emperor
								faction_power =
								{
									faction = faction_republican_emperor
									power = 1.5
								}
							}
							AND = {
								leads_faction = faction_republican_king
								faction_power =
								{
									faction = faction_republican_king
									power = 1.5
								}
							}
							AND = {
								leads_faction = faction_republican_duke
								faction_power =
								{
									faction = faction_republican_duke
									power = 1.5
								}
							}
						}
					}
				}
				if = {
					limit = { has_character_flag = faction_republican_unhappy }
					change_variable = { which = "rebel_power" value = 0.25 }
				}
				if = {
					limit = { has_character_flag = faction_republican_angry }
					change_variable = { which = "rebel_power" value = 0.5 }
				}
			}
			if = {
				limit = {
					any_vassal = {
						OR = {
							AND = {
								leads_faction = faction_republican_emperor
								faction_power =
								{
									faction = faction_republican_emperor
									power = 2.0
								}
							}
							AND = {
								leads_faction = faction_republican_king
								faction_power =
								{
									faction = faction_republican_king
									power = 2.0
								}
							}
							AND = {
								leads_faction = faction_republican_duke
								faction_power =
								{
									faction = faction_republican_duke
									power = 2.0
								}
							}
						}
					}
				}
				if = {
					limit = { has_character_flag = faction_republican_unhappy }
					change_variable = { which = "rebel_power" value = 0.25 }
				}
				if = {
					limit = { has_character_flag = faction_republican_angry }
					change_variable = { which = "rebel_power" value = 0.5 }
				}
			}
			if = {
				limit = {
					any_vassal = {
						OR = {
							AND = {
								leads_faction = faction_republican_emperor
								faction_power =
								{
									faction = faction_republican_emperor
									power = 2.5
								}
							}
							AND = {
								leads_faction = faction_republican_king
								faction_power =
								{
									faction = faction_republican_king
									power = 2.5
								}
							}
							AND = {
								leads_faction = faction_republican_duke
								faction_power =
								{
									faction = faction_republican_duke
									power = 2.5
								}
							}
						}
					}
				}
				if = {
					limit = { has_character_flag = faction_republican_unhappy }
					change_variable = { which = "rebel_power" value = 0.25 }
				}
				if = {
					limit = { has_character_flag = faction_republican_angry }
					change_variable = { which = "rebel_power" value = 0.5 }
				}
			}
			if = {
				limit = {
					any_vassal = {
						OR = {
							AND = {
								leads_faction = faction_republican_emperor
								faction_power =
								{
									faction = faction_republican_emperor
									power = 3.0
								}
							}
							AND = {
								leads_faction = faction_republican_king
								faction_power =
								{
									faction = faction_republican_king
									power = 3.0
								}
							}
							AND = {
								leads_faction = faction_republican_duke
								faction_power =
								{
									faction = faction_republican_duke
									power = 3.0
								}
							}
						}
					}
				}
				if = {
					limit = { has_character_flag = faction_republican_unhappy }
					change_variable = { which = "rebel_power" value = 0.25 }
				}
				if = {
					limit = { has_character_flag = faction_republican_angry }
					change_variable = { which = "rebel_power" value = 0.5 }
				}
			}

			# religious faction power
			if = {
				limit = {
					any_vassal = {
						OR = {
							AND = {
								leads_faction = faction_religious_emperor
								faction_power =
								{
									faction = faction_religious_emperor
									power = 0.25
								}
							}
							AND = {
								leads_faction = faction_religious_king
								faction_power =
								{
									faction = faction_religious_king
									power = 0.25
								}
							}
							AND = {
								leads_faction = faction_religious_duke
								faction_power =
								{
									faction = faction_religious_duke
									power = 0.25
								}
							}
						}
					}
				}
				if = {
					limit = { has_character_flag = faction_religious_unhappy }
					change_variable = { which = "rebel_power" value = 0.125 }
				}
				if = {
					limit = { has_character_flag = faction_religious_angry }
					change_variable = { which = "rebel_power" value = 0.25 }
				}
			}
			if = {
				limit = {
					any_vassal = {
						OR = {
							AND = {
								leads_faction = faction_religious_emperor
								faction_power =
								{
									faction = faction_religious_emperor
									power = 0.5
								}
							}
							AND = {
								leads_faction = faction_religious_king
								faction_power =
								{
									faction = faction_religious_king
									power = 0.5
								}
							}
							AND = {
								leads_faction = faction_religious_duke
								faction_power =
								{
									faction = faction_religious_duke
									power = 0.5
								}
							}
						}
					}
				}
				if = {
					limit = { has_character_flag = faction_religious_unhappy }
					change_variable = { which = "rebel_power" value = 0.125 }
				}
				if = {
					limit = { has_character_flag = faction_religious_angry }
					change_variable = { which = "rebel_power" value = 0.25 }
				}
			}
			if = {
				limit = {
					any_vassal = {
						OR = {
							AND = {
								leads_faction = faction_religious_emperor
								faction_power =
								{
									faction = faction_religious_emperor
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_religious_king
								faction_power =
								{
									faction = faction_religious_king
									power = 1.0
								}
							}
							AND = {
								leads_faction = faction_religious_duke
								faction_power =
								{
									faction = faction_religious_duke
									power = 1.0
								}
							}
						}
					}
				}
				if = {
					limit = { has_character_flag = faction_religious_unhappy }
					change_variable = { which = "rebel_power" value = 0.25 }
				}
				if = {
					limit = { has_character_flag = faction_religious_angry }
					change_variable = { which = "rebel_power" value = 0.5 }
				}
			}
			if = {
				limit = {
					any_vassal = {
						OR = {
							AND = {
								leads_faction = faction_religious_emperor
								faction_power =
								{
									faction = faction_religious_emperor
									power = 1.5
								}
							}
							AND = {
								leads_faction = faction_religious_king
								faction_power =
								{
									faction = faction_religious_king
									power = 1.5
								}
							}
							AND = {
								leads_faction = faction_religious_duke
								faction_power =
								{
									faction = faction_religious_duke
									power = 1.5
								}
							}
						}
					}
				}
				if = {
					limit = { has_character_flag = faction_religious_unhappy }
					change_variable = { which = "rebel_power" value = 0.25 }
				}
				if = {
					limit = { has_character_flag = faction_religious_angry }
					change_variable = { which = "rebel_power" value = 0.5 }
				}
			}
			if = {
				limit = {
					any_vassal = {
						OR = {
							AND = {
								leads_faction = faction_religious_emperor
								faction_power =
								{
									faction = faction_religious_emperor
									power = 2.0
								}
							}
							AND = {
								leads_faction = faction_religious_king
								faction_power =
								{
									faction = faction_religious_king
									power = 2.0
								}
							}
							AND = {
								leads_faction = faction_religious_duke
								faction_power =
								{
									faction = faction_religious_duke
									power = 2.0
								}
							}
						}
					}
				}
				if = {
					limit = { has_character_flag = faction_religious_unhappy }
					change_variable = { which = "rebel_power" value = 0.25 }
				}
				if = {
					limit = { has_character_flag = faction_religious_angry }
					change_variable = { which = "rebel_power" value = 0.5 }
				}
			}
			if = {
				limit = {
					any_vassal = {
						OR = {
							AND = {
								leads_faction = faction_religious_emperor
								faction_power =
								{
									faction = faction_religious_emperor
									power = 2.5
								}
							}
							AND = {
								leads_faction = faction_religious_king
								faction_power =
								{
									faction = faction_religious_king
									power = 2.5
								}
							}
							AND = {
								leads_faction = faction_religious_duke
								faction_power =
								{
									faction = faction_religious_duke
									power = 2.5
								}
							}
						}
					}
				}
				if = {
					limit = { has_character_flag = faction_religious_unhappy }
					change_variable = { which = "rebel_power" value = 0.25 }
				}
				if = {
					limit = { has_character_flag = faction_religious_angry }
					change_variable = { which = "rebel_power" value = 0.5 }
				}
			}
			if = {
				limit = {
					any_vassal = {
						OR = {
							AND = {
								leads_faction = faction_religious_emperor
								faction_power =
								{
									faction = faction_religious_emperor
									power = 3.0
								}
							}
							AND = {
								leads_faction = faction_religious_king
								faction_power =
								{
									faction = faction_religious_king
									power = 3.0
								}
							}
							AND = {
								leads_faction = faction_religious_duke
								faction_power =
								{
									faction = faction_religious_duke
									power = 3.0
								}
							}
						}
					}
				}
				if = {
					limit = { has_character_flag = faction_religious_unhappy }
					change_variable = { which = "rebel_power" value = 0.25 }
				}
				if = {
					limit = { has_character_flag = faction_religious_angry }
					change_variable = { which = "rebel_power" value = 0.5 }
				}
			}
		}
	}
}

character_event = {
	id = 110074

	trigger = {
		war = no
		is_ruler = yes
		has_landed_title = e_byzantium
		NOT = {
			OR = {
				religion = orthodox
				is_heresy_of = orthodox
				religion = hellenic_pagan
			}
		}
	}

	desc = "EVTDESC110074"

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = "OK"
		if = {
			limit = {
				OR = {
					religion = catholic
					is_heresy_of = catholic
				}
				e_latin_empire = { has_holder = no }
			}
			set_character_flag = centralize_without_penalties
			e_latin_empire = {
				hidden_tooltip = {
					add_law = investiture_law_1
					add_law = centralization_1
					add_law = city_tax_0
					add_law = temple_tax_0
					add_law = tax_privileges_1
					add_law = levy_privileges_1
					add_law = council_privileges_0
					add_law = feudal_tax_0
					add_law = succ_primogeniture
					add_law = cognatic_succession
				}
				gain_title = ROOT
			}
			clr_character_flag = centralize_without_penalties
		}
		e_byzantium = {
			destroy_landed_title = yes
		}
		hidden_tooltip = {
			k_papal_state = { holder_scope = { character_event = { id = 110070 } } }
			any_vassal = {
				limit = { NOT = { has_character_flag = considered_for_independence } }
				character_event = { id = 2500000 days = 3 }
			}
		}
	}
}

character_event = {
	id = 110075
	is_triggered_only = yes

	trigger = {
		ai = yes
		is_ruler = yes
		is_patrician = no
		controls_religion = no
		NOT = { mercenary = yes }
		NOT = { any_liege = { ai = no } }
		primary_title = {
			NOT = {
				title = d_teutonic_order
				title = d_knights_templar
				title = d_knights_hospitaler
				title = d_ghazi_sunni
				title = d_ghazi_shiite
				title = d_hashshashin
				title = d_jomsvikings
				title = d_devotees_of_the_true_prophet
				title = d_great_host
				title = d_guardians_of_the_sacred_flame
				title = d_disciples_of_the_old_gods
					title = d_zhayedan_1
					title = d_zhayedan_2
					title = d_anubis
					title = d_horus
					title = d_immortals
					title = d_zealots
					title = d_holy_sepulchre
					title = d_saint_anthony
					title = d_sky_lords
					title = d_spirit_guardians
					title = d_warriors_perun
					title = d_chosen_perkunas
					title = d_sons_kaleva
					title = d_huitzilopochtli
					title = d_knights_santiago
					title = d_knights_calatrava
					title = d_braedralag
					title = d_herculean
					title = d_sacred_band
			}
		}
		any_demesne_title = {
			tier = baron
			dejure_liege_title = {
				holder_scope = {
					NOT = { same_realm = ROOT }
				}
			}
		}
	}

	desc = "AI_EVENT"

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = "OK"
		any_demesne_title = {
			limit = {
				tier = baron
				dejure_liege_title = {
					holder_scope = {
						NOT = { same_realm = ROOT }
					}
				}
			}
			dejure_liege_title = {
				holder_scope = {
					set_character_flag = is_holder
					ROOT = {
						random_demesne_title = {
							limit = {
								tier = baron
								dejure_liege_title = {
									holder_scope = {
										has_character_flag = is_holder
									}
								}
							}
							gain_title = PREVPREV
						}
					}
					clr_character_flag = is_holder
				}
			}
		}
	}
}

character_event = {
	id = 110076
	is_triggered_only = yes

	trigger = {
		ai = yes
		is_ruler = yes
		religion = catholic
		lower_tier_than = KING
		independent = yes
		primary_title = {
			OR = {
				AND = {
					title = d_knights_templar
					is_title_active = d_knights_templar
				}
				AND = {
					title = d_knights_hospitaler
					is_title_active = d_knights_hospitaler
				}
			}
		}
		k_jerusalem = {
			has_holder = yes
			holder_scope = {
				religion = catholic
			}
		}
	}

	desc = "AI_EVENT"

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = "OK"
		k_jerusalem = {
			holder_scope = {
				ROOT = { set_defacto_liege = PREV }
			}
		}
	}
}

character_event = {
	id = 1000182162
	
	hide_window = yes
	hide_from = yes	


	trigger = {
		OR = {
			has_global_flag = golden_horde_arrival
			has_global_flag = il_khanate_arrival
			has_global_flag = aztec_arrival
		}	
		ai = yes
		OR = {
			culture = mongol
			culture = nahuatl
		}
		OR = {
			religion = tengri_pagan
			religion = aztec_pagan
		}
		age = 16
		NOT = { trait = bloodlust }
		NOT = { trait = incapable }
		primary_title = {
			OR = {
				title = e_golden_horde
				title = e_il-khanate
				title = e_timurids
				title = e_mongol_empire
				title = e_mexikha
			}
		}
	}
	
	immediate = {
		add_trait = bloodlust
	}	


	mean_time_to_happen = {
		days = 1
	}

	desc = "AI_EVENT"



}


character_event = {
	id = 1000182163

	hide_window = yes
	hide_from = yes	

	
	trigger = {
		OR = {
			has_global_flag = golden_horde_arrival
			has_global_flag = il_khanate_arrival
			has_global_flag = aztec_arrival
		}
		trait = bloodlust
		OR = {
			ai = no
			AND = {
				ai = yes
				OR = {
					culture = mongol
					culture = nahuatl
				}
				NOT = { 
					OR = {
						religion = tengri_pagan 
						religion = aztec_pagan
					}
				}

			}

			trait = incapable
			independent = no
		}
	}
	
	immediate = {
		remove_trait = bloodlust
	}	


	mean_time_to_happen = {
		days = 1
	}
	
	desc = "AI_EVENT"
}
# Norman conquest cleanup - Victory: France loses claims
character_event = {
	id = 1000182627
	desc = "Remove claims"
	picture = "GFX_evt_spymaster"
	hide_from = yes
	hide_window = yes
	
	trigger = {
		year = 1066
		NOT = { year = 1075 }
		is_ruler = yes
		has_landed_title = k_france
		k_england = { holder_scope = { culture = norman } }
		k_england = { holder_scope = { war = no } }
		NOT = { has_global_flag = norman_cleanup_done }
		OR = {
			has_claim = c_cornwall
			has_claim = c_devon
			has_claim = c_somerset
			has_claim = c_dorset
			has_claim = c_wiltshire
			has_claim = c_winchester
			has_claim = c_sussex
			has_claim = c_surrey
			has_claim = c_kent
			has_claim = c_gloucester
			has_claim = c_hereford
			has_claim = c_shrewsbury
			has_claim = c_worcester
			has_claim = c_warwick
			has_claim = c_leicester
			has_claim = c_lincoln
			has_claim = d_canterbury
			has_claim = d_somerset
			has_claim = d_cornwall
			has_claim = d_gloucester
			has_claim = d_hereford
			has_claim = d_york
			has_claim = k_england
			has_claim = c_eu
			has_claim = c_arques
			has_claim = c_evreux
			has_claim = c_maine
			has_claim = c_avranches
			has_claim = d_normandy
		}
	}
	
	mean_time_to_happen = {	days = 10 }
	
	immediate = {
		if = {
			limit = { has_claim = c_cornwall }
			remove_claim = c_cornwall
		}
		if = {
			limit = { has_claim = c_devon }
			remove_claim = c_devon
		}
		if = {
			limit = { has_claim = c_somerset }
			remove_claim = c_somerset
		}
		if = {
			limit = { has_claim = c_dorset }
			remove_claim = c_dorset
		}
		if = {
			limit = { has_claim = c_wiltshire }
			remove_claim = c_wiltshire
		}
		if = {
			limit = { has_claim = c_winchester }
			remove_claim = c_winchester
		}
		if = {
			limit = { has_claim = c_sussex }
			remove_claim = c_sussex
		}
		if = {
			limit = { has_claim = c_surrey }
			remove_claim = c_surrey
		}
		if = {
			limit = { has_claim = c_kent }
			remove_claim = c_kent
		}
		if = {
			limit = { has_claim = c_gloucester }
			remove_claim = c_gloucester
		}
		if = {
			limit = { has_claim = c_hereford }
			remove_claim = c_hereford
		}
		if = {
			limit = { has_claim = c_shrewsbury }
			remove_claim = c_shrewsbury
		}
		if = {
			limit = { has_claim = c_worcester }
			remove_claim = c_worcester
		}
		if = {
			limit = { has_claim = c_warwick }
			remove_claim = c_warwick
		}
		if = {
			limit = { has_claim = c_leicester }
			remove_claim = c_leicester
		}
		if = {
			limit = { has_claim = c_lincoln }
			remove_claim = c_lincoln
		}
		if = {
			limit = { has_claim = d_canterbury }
			remove_claim = d_canterbury
		}
		if = {
			limit = { has_claim = d_somerset }
			remove_claim = d_somerset
		}
		if = {
			limit = { has_claim = d_cornwall }
			remove_claim = d_cornwall
		}
		if = {
			limit = { has_claim = d_gloucester }
			remove_claim = d_gloucester
		}
		if = {
			limit = { has_claim = d_hereford }
			remove_claim = d_hereford
		}
		if = {
			limit = { has_claim = d_york }
			remove_claim = d_york
		}
		if = {
			limit = { has_claim = k_england }
			remove_claim = k_england
		}
		if = {
			limit = { has_claim = c_eu }
			remove_claim = c_eu
		}
		if = {
			limit = { has_claim = c_arques }
			remove_claim = c_arques
		}
		if = {
			limit = { has_claim = c_evreux }
			remove_claim = c_evreux
		}
		if = {
			limit = { has_claim = c_maine }
			remove_claim = c_maine
		}
		if = {
			limit = { has_claim = c_avranches }
			remove_claim = c_avranches
		}
		if = {
			limit = { has_claim = d_normandy }
			remove_claim = d_normandy
		}
		set_global_flag = norman_cleanup_done
	}
}
# Norman conquest cleanup - Loss: English provinces (back) to England
character_event = {
	id = 1000182628
	desc = "Remove claims"
	picture = "GFX_evt_spymaster"
	hide_from = yes
	hide_window = yes
	
	trigger = {
		year = 1066
		NOT = { year = 1075 }
		is_ruler = yes
		independent = no
		has_landed_title = d_normandy
		war = no
		k_england = { holder_scope = { culture = saxon } }
		NOT = { has_global_flag = norman_cleanup_done }
		OR = {
			has_landed_title = c_cornwall
			has_landed_title = c_devon
			has_landed_title = c_somerset
			has_landed_title = c_dorset
			has_landed_title = c_wiltshire
			has_landed_title = c_winchester
			has_landed_title = c_sussex
			has_landed_title = c_surrey
			has_landed_title = c_kent
			has_landed_title = c_gloucester
			has_landed_title = c_hereford
			has_landed_title = c_shrewsbury
			has_landed_title = c_worcester
			has_landed_title = c_warwick
			has_landed_title = c_leicester
			has_landed_title = c_lincoln
			has_landed_title = d_canterbury
			has_landed_title = d_somerset
			has_landed_title = d_cornwall
			has_landed_title = d_gloucester
			has_landed_title = d_hereford
			has_landed_title = d_york
			any_realm_lord = { has_landed_title = c_cornwall }
			any_realm_lord = { has_landed_title = c_devon }
			any_realm_lord = { has_landed_title = c_somerset }
			any_realm_lord = { has_landed_title = c_dorset }
			any_realm_lord = { has_landed_title = c_wiltshire }
			any_realm_lord = { has_landed_title = c_winchester }
			any_realm_lord = { has_landed_title = c_sussex }
			any_realm_lord = { has_landed_title = c_surrey }
			any_realm_lord = { has_landed_title = c_kent }
			any_realm_lord = { has_landed_title = c_gloucester }
			any_realm_lord = { has_landed_title = c_hereford }
			any_realm_lord = { has_landed_title = c_shrewsbury }
			any_realm_lord = { has_landed_title = c_worcester }
			any_realm_lord = { has_landed_title = c_warwick }
			any_realm_lord = { has_landed_title = c_leicester }
			any_realm_lord = { has_landed_title = c_lincoln }
			any_realm_lord = { has_landed_title = d_canterbury }
			any_realm_lord = { has_landed_title = d_somerset }
			any_realm_lord = { has_landed_title = d_cornwall }
			any_realm_lord = { has_landed_title = d_gloucester }
			any_realm_lord = { has_landed_title = d_hereford }
			any_realm_lord = { has_landed_title = d_york }
		}
	}
	
	mean_time_to_happen = {	days = 10 }
	
	immediate = {
		if = {
			limit = { has_landed_title = c_cornwall }
			k_england = { gain_title = c_cornwall }
		}
		if = {
			limit = { any_realm_lord = { has_landed_title = c_cornwall } }
			k_england = { gain_title = c_cornwall }
		}
		if = {
			limit = { has_landed_title = c_devon }
			k_england = { gain_title = c_devon }
		}
		if = {
			limit = { any_realm_lord = { has_landed_title = c_devon } }
			k_england = { gain_title = c_devon }
		}
		if = {
			limit = { has_landed_title = c_somerset }
			k_england = { gain_title = c_somerset }
		}
		if = {
			limit = { any_realm_lord = { has_landed_title = c_somerset } }
			k_england = { gain_title = c_somerset }
		}
		if = {
			limit = { has_landed_title = c_dorset }
			k_england = { gain_title = c_dorset }
		}
		if = {
			limit = { any_realm_lord = { has_landed_title = c_dorset } }
			k_england = { gain_title = c_dorset }
		}
		if = {
			limit = { has_landed_title = c_wiltshire }
			k_england = { gain_title = c_wiltshire }
		}
		if = {
			limit = { any_realm_lord = { has_landed_title = c_wiltshire } }
			k_england = { gain_title = c_wiltshire }
		}
		if = {
			limit = { has_landed_title = c_winchester }
			k_england = { gain_title = c_winchester }
		}
		if = {
			limit = { any_realm_lord = { has_landed_title = c_winchester } }
			k_england = { gain_title = c_winchester }
		}
		if = {
			limit = { has_landed_title = c_sussex }
			k_england = { gain_title = c_sussex }
		}
		if = {
			limit = { any_realm_lord = { has_landed_title = c_sussex } }
			k_england = { gain_title = c_sussex }
		}
		if = {
			limit = { has_landed_title = c_surrey }
			k_england = { gain_title = c_surrey }
		}
		if = {
			limit = { any_realm_lord = { has_landed_title = c_surrey } }
			k_england = { gain_title = c_surrey }
		}
		if = {
			limit = { has_landed_title = c_kent }
			k_england = { gain_title = c_kent }
		}
		if = {
			limit = { any_realm_lord = { has_landed_title = c_kent } }
			k_england = { gain_title = c_kent }
		}
		if = {
			limit = { has_landed_title = c_gloucester }
			k_england = { gain_title = c_gloucester }
		}
		if = {
			limit = { any_realm_lord = { has_landed_title = c_gloucester } }
			k_england = { gain_title = c_gloucester }
		}
		if = {
			limit = { has_landed_title = c_hereford }
			k_england = { gain_title = c_hereford }
		}
		if = {
			limit = { any_realm_lord = { has_landed_title = c_hereford } }
			k_england = { gain_title = c_hereford }
		}
		if = {
			limit = { has_landed_title = c_shrewsbury }
			k_england = { gain_title = c_shrewsbury }
		}
		if = {
			limit = { any_realm_lord = { has_landed_title = c_shrewsbury } }
			k_england = { gain_title = c_shrewsbury }
		}
		if = {
			limit = { has_landed_title = c_worcester }
			k_england = { gain_title = c_worcester }
		}
		if = {
			limit = { any_realm_lord = { has_landed_title = c_worcester } }
			k_england = { gain_title = c_worcester }
		}
		if = {
			limit = { has_landed_title = c_warwick }
			k_england = { gain_title = c_warwick }
		}
		if = {
			limit = { any_realm_lord = { has_landed_title = c_warwick } }
			k_england = { gain_title = c_warwick }
		}
		if = {
			limit = { has_landed_title = c_leicester }
			k_england = { gain_title = c_leicester }
		}
		if = {
			limit = { any_realm_lord = { has_landed_title = c_leicester } }
			k_england = { gain_title = c_leicester }
		}
		if = {
			limit = { has_landed_title = c_lincoln }
			k_england = { gain_title = c_lincoln }
		}
		if = {
			limit = { any_realm_lord = { has_landed_title = c_lincoln } }
			k_england = { gain_title = c_lincoln }
		}
		if = {
			limit = { has_landed_title = d_canterbury }
			k_england = { gain_title = d_canterbury }
		}
		if = {
			limit = { any_realm_lord = { has_landed_title = d_canterbury } }
			k_england = { gain_title = d_canterbury }
		}
		if = {
			limit = { has_landed_title = d_somerset }
			k_england = { gain_title = d_somerset }
		}
		if = {
			limit = { any_realm_lord = { has_landed_title = d_somerset } }
			k_england = { gain_title = d_somerset }
		}
		if = {
			limit = { has_landed_title = d_cornwall }
			k_england = { gain_title = d_cornwall }
		}
		if = {
			limit = { any_realm_lord = { has_landed_title = d_cornwall } }
			k_england = { gain_title = d_cornwall }
		}
		if = {
			limit = { has_landed_title = d_gloucester }
			k_england = { gain_title = d_gloucester }
		}
		if = {
			limit = { any_realm_lord = { has_landed_title = d_gloucester } }
			k_england = { gain_title = d_gloucester }
		}
		if = {
			limit = { has_landed_title = d_hereford }
			k_england = { gain_title = d_hereford }
		}
		if = {
			limit = { any_realm_lord = { has_landed_title = d_hereford } }
			k_england = { gain_title = d_hereford }
		}
		if = {
			limit = { has_landed_title = d_york }
			k_england = { gain_title = d_york }
		}
		if = {
			limit = { any_realm_lord = { has_landed_title = d_york } }
			k_england = { gain_title = d_york }
		}
		if = {
			limit = { NOT = { has_claim = k_england } }
			add_claim = k_england
		}
		set_global_flag = norman_cleanup_done
	}
}
# War of Two Eriks fix - prevent below from firing on win
character_event = {
	id = 1000182629
	desc = "Sweden is ours!"
	picture = "GFX_evt_spymaster"
	hide_from = yes
	hide_window = yes
	
	trigger = {
		year = 1066
		NOT = { year = 1075 }
		is_ruler = yes
		independent = yes
		has_landed_title = d_uppland
		has_landed_title = k_sweden
		war = no
		NOT = { has_global_flag = uppland_cleanup_done }
	}
	
	mean_time_to_happen = {	days = 10 }
	
	immediate = {
		set_global_flag = uppland_cleanup_done
	}
}
# War of Two Eriks fix - make sure Uppland becomes a vassal again on loss
character_event = {
	id = 1000182630
	desc = "Rightful liege restored"
	picture = "GFX_evt_spymaster"
	hide_from = yes
	hide_window = yes
	
	trigger = {
		year = 1066
		NOT = { year = 1075 }
		is_ruler = yes
		independent = yes
		has_landed_title = d_uppland
		NOT = { has_landed_title = k_sweden }
		k_sweden = { holder_scope = { has_claim = d_uppland } }
		war = no
		NOT = { has_global_flag = uppland_cleanup_done }
	}
	
	mean_time_to_happen = {	days = 10 }
	
	immediate = {
		set_defacto_liege = k_sweden
		set_global_flag = uppland_cleanup_done
	}
}